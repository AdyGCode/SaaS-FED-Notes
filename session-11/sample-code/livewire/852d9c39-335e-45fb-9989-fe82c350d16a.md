---
created: 2025-04-29T17:33:54 (UTC +08:00)
tags: []
source: https://web.archive.org/web/20240927030353/https://bootcamp.laravel.com/livewire/editing-chirps
author: 
---

# Laravel Bootcamp

> ## Excerpt
> Together let's walk through building and deploying a modern Laravel application from scratch.

---
## **05.** Editing Chirps

Let's add a feature that's missing from other popular bird-themed microblogging platforms â€” the ability to edit Chirps!

## Updating our component

Let's start by updating our existing `chirps.list` Livewire component to have an edit form for existing Chirps. The edit form will be a nested Livewire component that we'll create later.

First, we'll use the `x-dropdown` component that is included with Breeze. In addition, we will make this dropdown only visible to the Chirp's original author. In this dropdown, we'll add a link that will trigger the `edit` action on the component. This method will set the `editing` property to the Chirp that we want to edit. We'll use this property to conditionally display the edit form.

We'll also display an indication if a Chirp has been edited by comparing the Chirp's `created_at` date with its `updated_at` date:

resources/views/livewire/chirps/list.blade.php

```
<!-- Syntax highlighted by torchlight.dev --><p><span> </span><span>&lt;?php</span></p><p><span> </span><span>use</span><span> App\Models\</span><span>Chirp</span><span>;</span></p><p><span> </span><span>use</span><span> Illuminate\Database\Eloquent\</span><span>Collection</span><span>;</span></p><p><span> </span><span>use</span><span> Livewire\Attributes\</span><span>On</span><span>;</span></p><p><span> </span><span>use</span><span> Livewire\Volt\</span><span>Component</span><span>;</span></p><p><span> </span><span>new</span><span> </span><span>class</span><span> </span><span>extends</span><span> </span><span>Component</span></p><p><span> </span><span>{</span></p><p><span> </span><span>    </span><span>public</span><span> </span><span>Collection</span><span> </span><span>$chirps</span><span>;</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    </span><span>public</span><span> </span><span>?</span><span>Chirp</span><span> </span><span>$editing</span><span> </span><span>=</span><span> </span><span>null</span><span>; </span></p><p><span> </span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>mount</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span> </span><span>    {</span></p><p><span> </span><span>        </span><span>$this</span><span>-&gt;</span><span>getChirps</span><span>();</span></p><p><span> </span><span>    }</span></p><p><span> </span><span>    #[On(</span><span>'</span><span>chirp-created</span><span>'</span><span>)]</span></p><p><span> </span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>getChirps</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span> </span><span>    {</span></p><p><span> </span><span>        </span><span>$this</span><span>-&gt;chirps</span><span> </span><span>=</span><span> </span><span>Chirp</span><span>::</span><span>with</span><span>(</span><span>'</span><span>user</span><span>'</span><span>)</span></p><p><span> </span><span>            </span><span>-&gt;</span><span>latest</span><span>()</span></p><p><span> </span><span>            </span><span>-&gt;</span><span>get</span><span>();</span></p><p><span> </span><span>    }</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>edit</span><span>(</span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>void</span></p><p><span>+</span><span>    {</span></p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;editing</span><span> </span><span>=</span><span> </span><span>$chirp</span><span>;</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;</span><span>getChirps</span><span>();</span></p><p><span>+</span><span>    } </span></p><p><span> </span><span>}; </span><span>?&gt;</span></p><p><span> </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-6 bg-white shadow-sm rounded-lg divide-y</span><span>"</span><span>&gt;</span></p><p><span> </span><span>    @foreach ($chirps as $chirp)</span></p><p><span> </span><span>        </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>p-6 flex space-x-2</span><span>"</span><span> </span><span>wire:key</span><span>=</span><span>"</span><span>{{ $chirp-&gt;id }}</span><span>"</span><span>&gt;</span></p><p><span> </span><span>            </span><span>&lt;</span><span>svg</span><span> </span><span>xmlns</span><span>=</span><span>"</span><span>http://www.w3.org/2000/svg</span><span>"</span><span> </span><span>class</span><span>=</span><span>"</span><span>h-6 w-6 text-gray-600 -scale-x-100</span><span>"</span><span> </span><span>fill</span><span>=</span><span>"</span><span>none</span><span>"</span><span> </span><span>viewBox</span><span>=</span><span>"</span><span>0 0 24 24</span><span>"</span><span> </span><span>stroke</span><span>=</span><span>"</span><span>currentColor</span><span>"</span><span> </span><span>stroke-width</span><span>=</span><span>"</span><span>2</span><span>"</span><span>&gt;</span></p><p><span> </span><span>                </span><span>&lt;</span><span>path</span><span> </span><span>stroke-linecap</span><span>=</span><span>"</span><span>round</span><span>"</span><span> </span><span>stroke-linejoin</span><span>=</span><span>"</span><span>round</span><span>"</span><span> </span><span>d</span><span>=</span><span>"</span><span>M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z</span><span>"</span><span> </span><span>/&gt;</span></p><p><span> </span><span>            </span><span>&lt;/</span><span>svg</span><span>&gt;</span></p><p><span> </span><span>            </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>flex-1</span><span>"</span><span>&gt;</span></p><p><span> </span><span>                </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>flex justify-between items-center</span><span>"</span><span>&gt;</span></p><p><span> </span><span>                    </span><span>&lt;</span><span>div</span><span>&gt;</span></p><p><span> </span><span>                        </span><span>&lt;</span><span>span</span><span> </span><span>class</span><span>=</span><span>"</span><span>text-gray-800</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;user-&gt;name }}</span><span>&lt;/</span><span>span</span><span>&gt;</span></p><p><span> </span><span>                        </span><span>&lt;</span><span>small</span><span> </span><span>class</span><span>=</span><span>"</span><span>ml-2 text-sm text-gray-600</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;created_at-&gt;format('j M Y, g:i a') }}</span><span>&lt;/</span><span>small</span><span>&gt;</span></p><p><span>+</span><span>                        @unless ($chirp-&gt;created_at-&gt;eq($chirp-&gt;updated_at))</span></p><p><span>+</span><span>                            </span><span>&lt;</span><span>small</span><span> </span><span>class</span><span>=</span><span>"</span><span>text-sm text-gray-600</span><span>"</span><span>&gt;</span><span> </span><span>&amp;middot;</span><span> {{ __('edited') }}</span><span>&lt;/</span><span>small</span><span>&gt;</span></p><p><span>+</span><span>                        @endunless</span></p><p><span> </span><span>                    </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span>+</span><span>                    @if ($chirp-&gt;user-&gt;is(auth()-&gt;user()))</span></p><p><span>+</span><span>                        </span><span>&lt;</span><span>x-dropdown</span><span>&gt;</span></p><p><span>+</span><span>                            </span><span>&lt;</span><span>x-slot</span><span> </span><span>name</span><span>=</span><span>"</span><span>trigger</span><span>"</span><span>&gt;</span></p><p><span>+</span><span>                                </span><span>&lt;</span><span>button</span><span>&gt;</span></p><p><span>+</span><span>                                    </span><span>&lt;</span><span>svg</span><span> </span><span>xmlns</span><span>=</span><span>"</span><span>http://www.w3.org/2000/svg</span><span>"</span><span> </span><span>class</span><span>=</span><span>"</span><span>h-4 w-4 text-gray-400</span><span>"</span><span> </span><span>viewBox</span><span>=</span><span>"</span><span>0 0 20 20</span><span>"</span><span> </span><span>fill</span><span>=</span><span>"</span><span>currentColor</span><span>"</span><span>&gt;</span></p><p><span>+</span><span>                                        </span><span>&lt;</span><span>path</span><span> </span><span>d</span><span>=</span><span>"</span><span>M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z</span><span>"</span><span> </span><span>/&gt;</span></p><p><span>+</span><span>                                    </span><span>&lt;/</span><span>svg</span><span>&gt;</span></p><p><span>+</span><span>                                </span><span>&lt;/</span><span>button</span><span>&gt;</span></p><p><span>+</span><span>                            </span><span>&lt;/</span><span>x-slot</span><span>&gt;</span></p><p><span>+</span><span>                            </span><span>&lt;</span><span>x-slot</span><span> </span><span>name</span><span>=</span><span>"</span><span>content</span><span>"</span><span>&gt;</span></p><p><span>+</span><span>                                </span><span>&lt;</span><span>x-dropdown-link</span><span> </span><span>wire:click</span><span>=</span><span>"</span><span>edit({{ $chirp-&gt;id }})</span><span>"</span><span>&gt;</span></p><p><span>+</span><span>                                    {{ __('Edit') }}</span></p><p><span>+</span><span>                                </span><span>&lt;/</span><span>x-dropdown-link</span><span>&gt;</span></p><p><span>+</span><span>                            </span><span>&lt;/</span><span>x-slot</span><span>&gt;</span></p><p><span>+</span><span>                        </span><span>&lt;/</span><span>x-dropdown</span><span>&gt;</span></p><p><span>+</span><span>                    @endif</span></p><p><span> </span><span>                </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span>-</span><span>                </span><span>&lt;</span><span>p</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4 text-lg text-gray-900</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;message }}</span><span>&lt;/</span><span>p</span><span>&gt;</span></p><p><span>+</span><span>                @if ($chirp-&gt;is($editing)) </span></p><p><span>+</span><span>                    </span><span>&lt;</span><span>livewire:chirps.edit</span><span> </span><span>:chirp</span><span>=</span><span>"</span><span>$chirp</span><span>"</span><span> </span><span>:key</span><span>=</span><span>"</span><span>$chirp-&gt;id</span><span>"</span><span> /&gt;</span></p><p><span>+</span><span>                @else</span></p><p><span>+</span><span>                    </span><span>&lt;</span><span>p</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4 text-lg text-gray-900</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;message }}</span><span>&lt;/</span><span>p</span><span>&gt;</span></p><p><span>+</span><span>                @endif </span></p><p><span> </span><span>            </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span>        </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span>    @endforeach</span></p><p><span> </span><span>&lt;/</span><span>div</span><span>&gt;</span></p>
```

## Creating the edit form

Next, let's create the `chirps.edit` Livewire component:

```
<!-- Syntax highlighted by torchlight.dev --><p><span>php </span><span>artisan</span><span> </span><span>make:volt</span><span> </span><span>chirps/edit</span><span> </span><span>--class</span></p>
```

This will create a new Livewire component at `resources/views/livewire/chirps/edit.blade.php`. Let's update the Livewire component content to display a form for editing a Chirp.

Note that, even though we're only displaying the edit button to the author of the Chirp, we also need to authorize the request on the server to make sure it's actually the Chirp's author requesting that the Chirp be updated:

resources/views/livewire/chirps/edit.blade.php

```
<!-- Syntax highlighted by torchlight.dev --><p><span> </span><span>&lt;?php</span></p><p><span>+</span><span>use</span><span> App\Models\</span><span>Chirp</span><span>; </span></p><p><span>+</span><span>use</span><span> Livewire\Attributes\</span><span>Validate</span><span>; </span></p><p><span> </span><span>use</span><span> Livewire\Volt\</span><span>Component</span><span>;</span></p><p><span> </span><span>new</span><span> </span><span>class</span><span> </span><span>extends</span><span> </span><span>Component</span></p><p><span> </span><span>{</span></p><p><span>+</span><span>    </span><span>public</span><span> </span><span>Chirp</span><span> </span><span>$chirp</span><span>; </span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    #[Validate(</span><span>'</span><span>required|string|max:255</span><span>'</span><span>)]</span></p><p><span>+</span><span>    </span><span>public</span><span> </span><span>string</span><span> </span><span>$message</span><span> </span><span>=</span><span> </span><span>''</span><span>;</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>mount</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span>+</span><span>    {</span></p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;message</span><span> </span><span>=</span><span> </span><span>$this</span><span>-&gt;chirp-&gt;message</span><span>;</span></p><p><span>+</span><span>    }</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>update</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span>+</span><span>    {</span></p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;</span><span>authorize</span><span>(</span><span>'</span><span>update</span><span>'</span><span>, </span><span>$this</span><span>-&gt;chirp</span><span>);</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>        </span><span>$validated</span><span> </span><span>=</span><span> </span><span>$this</span><span>-&gt;</span><span>validate</span><span>();</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;chirp-&gt;</span><span>update</span><span>(</span><span>$validated</span><span>);</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;</span><span>dispatch</span><span>(</span><span>'</span><span>chirp-updated</span><span>'</span><span>);</span></p><p><span>+</span><span>    }</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>cancel</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span>+</span><span>    {</span></p><p><span>+</span><span>        </span><span>$this</span><span>-&gt;</span><span>dispatch</span><span>(</span><span>'</span><span>chirp-edit-canceled</span><span>'</span><span>);</span></p><p><span>+</span><span>    }  </span></p><p><span> </span><span>}; </span><span>?&gt;</span></p><p><span> </span><span>&lt;</span><span>div</span><span>&gt;</span></p><p><span>-</span><span>    // </span></p><p><span>+</span><span>    </span><span>&lt;</span><span>form</span><span> </span><span>wire:submit</span><span>=</span><span>"</span><span>update</span><span>"</span><span>&gt;</span><span> </span></p><p><span>+</span><span>        </span><span>&lt;</span><span>textarea</span></p><p><span>+</span><span>            </span><span>wire:model</span><span>=</span><span>"</span><span>message</span><span>"</span></p><p><span>+</span><span>            </span><span>class</span><span>=</span><span>"</span><span>block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm</span><span>"</span></p><p><span>+</span><span>        &gt;&lt;/</span><span>textarea</span><span>&gt;</span></p><p><span>+</span>&nbsp;</p><p><span>+</span><span>        </span><span>&lt;</span><span>x-input-error</span><span> </span><span>:messages</span><span>=</span><span>"</span><span>$errors-&gt;get('message')</span><span>"</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-2</span><span>"</span><span> /&gt;</span></p><p><span>+</span><span>        </span><span>&lt;</span><span>x-primary-button</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4</span><span>"</span><span>&gt;</span><span>{{ __('Save') }}</span><span>&lt;/</span><span>x-primary-button</span><span>&gt;</span></p><p><span>+</span><span>        </span><span>&lt;</span><span>button</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4</span><span>"</span><span> </span><span>wire:click.prevent</span><span>=</span><span>"</span><span>cancel</span><span>"</span><span>&gt;</span><span>Cancel</span><span>&lt;/</span><span>button</span><span>&gt;</span></p><p><span>+</span><span>    </span><span>&lt;/</span><span>form</span><span>&gt;</span><span> </span></p><p><span> </span><span>&lt;/</span><span>div</span><span>&gt;</span></p>
```

Finally, we'll need to update the `chirps.list` component to listen both for the `chirp-updated` and `chirp-edit-canceled` events.

If the `chirp-updated` event is dispatched, we'll need to update the list of Chirps. If the `chirp-edit-canceled` event is dispatched, we'll need to set the `editing` property to `null` so that the edit form is no longer displayed:

resources/views/livewire/chirps/list.blade.php

```
<!-- Syntax highlighted by torchlight.dev --><p><span> </span><span></span><span>&lt;?php</span></p><details><summary><p><span> </span><span></span>&nbsp;<span>...</span></p></summary><p><span> </span><span></span><span>use</span><span> App\Models\</span><span>Chirp</span><span>;</span></p><p><span> </span><span></span><span>use</span><span> Illuminate\Database\Eloquent\</span><span>Collection</span><span>;</span></p><p><span> </span><span></span><span>use</span><span> Livewire\Attributes\</span><span>On</span><span>;</span></p><p><span> </span><span></span><span>use</span><span> Livewire\Volt\</span><span>Component</span><span>;</span></p></details><p><span> </span><span></span><span>new</span><span> </span><span>class</span><span> </span><span>extends</span><span> </span><span>Component</span></p><p><span> </span><span></span><span>{</span></p><details><summary><p><span> </span><span></span>&nbsp;<span>...</span></p></summary><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>Collection</span><span> </span><span>$chirps</span><span>;</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>?</span><span>Chirp</span><span> </span><span>$editing</span><span> </span><span>=</span><span> </span><span>null</span><span>;</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>mount</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>$this</span><span>-&gt;</span><span>getChirps</span><span>();</span></p><p><span> </span><span></span><span>    }</span></p></details><p><span> </span><span></span><span>    #[On(</span><span>'</span><span>chirp-created</span><span>'</span><span>)]</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>getChirps</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>$this</span><span>-&gt;chirps</span><span> </span><span>=</span><span> </span><span>Chirp</span><span>::</span><span>with</span><span>(</span><span>'</span><span>user</span><span>'</span><span>)</span></p><p><span> </span><span></span><span>            </span><span>-&gt;</span><span>latest</span><span>()</span></p><p><span> </span><span></span><span>            </span><span>-&gt;</span><span>get</span><span>();</span></p><p><span> </span><span></span><span>    }</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>edit</span><span>(</span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>void</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>$this</span><span>-&gt;editing</span><span> </span><span>=</span><span> </span><span>$chirp</span><span>;</span></p><p><span> </span><span></span><span>        </span><span>$this</span><span>-&gt;</span><span>getChirps</span><span>();</span></p><p><span> </span><span></span><span>    }</span></p><p><span>+</span><span></span>&nbsp;</p><p><span>+</span><span></span><span>    #[On(</span><span>'</span><span>chirp-edit-canceled</span><span>'</span><span>)]</span></p><p><span>+</span><span></span><span>    #[On(</span><span>'</span><span>chirp-updated</span><span>'</span><span>)] </span></p><p><span>+</span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>disableEditing</span><span>()</span><span>:</span><span> </span><span>void</span></p><p><span>+</span><span></span><span>    {</span></p><p><span>+</span><span></span><span>        </span><span>$this</span><span>-&gt;editing</span><span> </span><span>=</span><span> </span><span>null</span><span>;</span></p><p><span>+</span><span></span>&nbsp;</p><p><span>+</span><span></span><span>        </span><span>$this</span><span>-&gt;</span><span>getChirps</span><span>();</span></p><p><span>+</span><span></span><span>    } </span></p><p><span> </span><span></span><span>}; </span><span>?&gt;</span></p><p><span> </span><span></span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-6 bg-white shadow-sm rounded-lg divide-y</span><span>"</span><span>&gt;</span></p><details><summary><p><span> </span><span></span><span>    </span><span>...</span></p></summary><p><span> </span><span></span><span>    @foreach ($chirps as $chirp)</span></p><p><span> </span><span></span><span>        </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>p-6 flex space-x-2</span><span>"</span><span> </span><span>wire:key</span><span>=</span><span>"</span><span>{{ $chirp-&gt;id }}</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>            </span><span>&lt;</span><span>svg</span><span> </span><span>xmlns</span><span>=</span><span>"</span><span>http://www.w3.org/2000/svg</span><span>"</span><span> </span><span>class</span><span>=</span><span>"</span><span>h-6 w-6 text-gray-600 -scale-x-100</span><span>"</span><span> </span><span>fill</span><span>=</span><span>"</span><span>none</span><span>"</span><span> </span><span>viewBox</span><span>=</span><span>"</span><span>0 0 24 24</span><span>"</span><span> </span><span>stroke</span><span>=</span><span>"</span><span>currentColor</span><span>"</span><span> </span><span>stroke-width</span><span>=</span><span>"</span><span>2</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                </span><span>&lt;</span><span>path</span><span> </span><span>stroke-linecap</span><span>=</span><span>"</span><span>round</span><span>"</span><span> </span><span>stroke-linejoin</span><span>=</span><span>"</span><span>round</span><span>"</span><span> </span><span>d</span><span>=</span><span>"</span><span>M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z</span><span>"</span><span> </span><span>/&gt;</span></p><p><span> </span><span></span><span>            </span><span>&lt;/</span><span>svg</span><span>&gt;</span></p><p><span> </span><span></span><span>            </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>flex-1</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                </span><span>&lt;</span><span>div</span><span> </span><span>class</span><span>=</span><span>"</span><span>flex justify-between items-center</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                    </span><span>&lt;</span><span>div</span><span>&gt;</span></p><p><span> </span><span></span><span>                        </span><span>&lt;</span><span>span</span><span> </span><span>class</span><span>=</span><span>"</span><span>text-gray-800</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;user-&gt;name }}</span><span>&lt;/</span><span>span</span><span>&gt;</span></p><p><span> </span><span></span><span>                        </span><span>&lt;</span><span>small</span><span> </span><span>class</span><span>=</span><span>"</span><span>ml-2 text-sm text-gray-600</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;created_at-&gt;format('j M Y, g:i a') }}</span><span>&lt;/</span><span>small</span><span>&gt;</span></p><p><span> </span><span></span><span>                        @unless ($chirp-&gt;created_at-&gt;eq($chirp-&gt;updated_at))</span></p><p><span> </span><span></span><span>                            </span><span>&lt;</span><span>small</span><span> </span><span>class</span><span>=</span><span>"</span><span>text-sm text-gray-600</span><span>"</span><span>&gt;</span><span> </span><span>&amp;middot;</span><span> {{ __('edited') }}</span><span>&lt;/</span><span>small</span><span>&gt;</span></p><p><span> </span><span></span><span>                        @endunless</span></p><p><span> </span><span></span><span>                    </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span></span><span>                    @if ($chirp-&gt;user-&gt;is(auth()-&gt;user()))</span></p><p><span> </span><span></span><span>                        </span><span>&lt;</span><span>x-dropdown</span><span>&gt;</span></p><p><span> </span><span></span><span>                            </span><span>&lt;</span><span>x-slot</span><span> </span><span>name</span><span>=</span><span>"</span><span>trigger</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                                </span><span>&lt;</span><span>button</span><span>&gt;</span></p><p><span> </span><span></span><span>                                    </span><span>&lt;</span><span>svg</span><span> </span><span>xmlns</span><span>=</span><span>"</span><span>http://www.w3.org/2000/svg</span><span>"</span><span> </span><span>class</span><span>=</span><span>"</span><span>h-4 w-4 text-gray-400</span><span>"</span><span> </span><span>viewBox</span><span>=</span><span>"</span><span>0 0 20 20</span><span>"</span><span> </span><span>fill</span><span>=</span><span>"</span><span>currentColor</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                                        </span><span>&lt;</span><span>path</span><span> </span><span>d</span><span>=</span><span>"</span><span>M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z</span><span>"</span><span> </span><span>/&gt;</span></p><p><span> </span><span></span><span>                                    </span><span>&lt;/</span><span>svg</span><span>&gt;</span></p><p><span> </span><span></span><span>                                </span><span>&lt;/</span><span>button</span><span>&gt;</span></p><p><span> </span><span></span><span>                            </span><span>&lt;/</span><span>x-slot</span><span>&gt;</span></p><p><span> </span><span></span><span>                            </span><span>&lt;</span><span>x-slot</span><span> </span><span>name</span><span>=</span><span>"</span><span>content</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                                </span><span>&lt;</span><span>x-dropdown-link</span><span> </span><span>wire:click</span><span>=</span><span>"</span><span>edit({{ $chirp-&gt;id }})</span><span>"</span><span>&gt;</span></p><p><span> </span><span></span><span>                                    {{ __('Edit') }}</span></p><p><span> </span><span></span><span>                                </span><span>&lt;/</span><span>x-dropdown-link</span><span>&gt;</span></p><p><span> </span><span></span><span>                            </span><span>&lt;/</span><span>x-slot</span><span>&gt;</span></p><p><span> </span><span></span><span>                        </span><span>&lt;/</span><span>x-dropdown</span><span>&gt;</span></p><p><span> </span><span></span><span>                    @endif</span></p><p><span> </span><span></span><span>                </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span></span><span>                </span><span>&lt;</span><span>p</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4 text-lg text-gray-900</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;message }}</span><span>&lt;/</span><span>p</span><span>&gt;</span></p><p><span> </span><span></span><span>                @if ($chirp-&gt;is($editing))</span></p><p><span> </span><span></span><span>                    </span><span>&lt;</span><span>livewire:chirps.edit</span><span> </span><span>:chirp</span><span>=</span><span>"</span><span>$chirp</span><span>"</span><span> </span><span>:key</span><span>=</span><span>"</span><span>$chirp-&gt;id</span><span>"</span><span> /&gt;</span></p><p><span> </span><span></span><span>                @else</span></p><p><span> </span><span></span><span>                    </span><span>&lt;</span><span>p</span><span> </span><span>class</span><span>=</span><span>"</span><span>mt-4 text-lg text-gray-900</span><span>"</span><span>&gt;</span><span>{{ $chirp-&gt;message }}</span><span>&lt;/</span><span>p</span><span>&gt;</span></p><p><span> </span><span></span><span>                @endif</span></p><p><span> </span><span></span><span>            </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span></span><span>        </span><span>&lt;/</span><span>div</span><span>&gt;</span></p><p><span> </span><span></span><span>    @endforeach </span></p></details><p><span> </span><span></span><span>&lt;/</span><span>div</span><span>&gt;</span></p>
```

## Authorization

By default, the `authorize` method will prevent _everyone_ from being able to update the Chirp. We can specify who is allowed to update it by creating a [Model Policy](https://web.archive.org/web/20240927030353/https://laravel.com/docs/authorization#creating-policies) with the following command:

```
<!-- Syntax highlighted by torchlight.dev --><p><span>php </span><span>artisan</span><span> </span><span>make:policy</span><span> </span><span>ChirpPolicy</span><span> </span><span>--model=Chirp</span></p>
```

This will create a policy class at `app/Policies/ChirpPolicy.php` which we can update to specify that only the author is authorized to update a Chirp:

app/Policies/ChirpPolicy.php

```
<!-- Syntax highlighted by torchlight.dev --><p><span> </span><span></span><span>&lt;?php</span></p><details><summary><p><span> </span><span></span>&nbsp;<span>...</span></p></summary><p><span> </span><span></span><span>namespace</span><span> App\Policies;</span></p><p><span> </span><span></span><span>use</span><span> App\Models\</span><span>Chirp</span><span>;</span></p><p><span> </span><span></span><span>use</span><span> App\Models\</span><span>User</span><span>;</span></p><p><span> </span><span></span><span>use</span><span> Illuminate\Auth\Access\</span><span>HandlesAuthorization</span><span>;</span></p></details><p><span> </span><span></span><span>class</span><span> </span><span>ChirpPolicy</span></p><p><span> </span><span></span><span>{</span></p><details><summary><p><span> </span><span></span>&nbsp;<span>...</span></p></summary><p><span> </span><span></span><span>    </span><span>use</span><span> </span><span>HandlesAuthorization</span><span>;</span></p><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can view any models.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>viewAny</span><span>(</span><span>User</span><span> </span><span>$user</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can view the model.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>view</span><span>(</span><span>User</span><span> </span><span>$user</span><span>, </span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can create models.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>create</span><span>(</span><span>User</span><span> </span><span>$user</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p></details><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can update the model.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>update</span><span>(</span><span>User</span><span> </span><span>$user</span><span>, </span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span>-</span><span></span><span>        </span><span>//</span></p><p><span>+</span><span></span><span>        </span><span>return</span><span> </span><span>$chirp</span><span>-&gt;</span><span>user</span><span>()</span><span>-&gt;</span><span>is</span><span>(</span><span>$user</span><span>);</span></p><p><span> </span><span></span><span>    }</span></p><details><summary><p><span> </span><span></span>&nbsp;<span>...</span></p></summary><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can delete the model.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>delete</span><span>(</span><span>User</span><span> </span><span>$user</span><span>, </span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can restore the model.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>restore</span><span>(</span><span>User</span><span> </span><span>$user</span><span>, </span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p><p><span> </span><span></span><span>    </span><span>/**</span></p><p><span> </span><span></span><span>     * Determine whether the user can permanently delete the model.</span></p><p><span> </span><span></span><span>     </span><span>*/</span></p><p><span> </span><span></span><span>    </span><span>public</span><span> </span><span>function</span><span> </span><span>forceDelete</span><span>(</span><span>User</span><span> </span><span>$user</span><span>, </span><span>Chirp</span><span> </span><span>$chirp</span><span>)</span><span>:</span><span> </span><span>bool</span></p><p><span> </span><span></span><span>    {</span></p><p><span> </span><span></span><span>        </span><span>//</span></p><p><span> </span><span></span><span>    }</span></p></details><p><span> </span><span></span><span>}</span></p>
```

## Testing it out

Time to test it out! Go ahead and edit a few Chirps using the dropdown menu. If you register another user account, you'll see that only the author of a Chirp can edit it.

![An editted chirp](Laravel%20Bootcamp/chirp-editted.png)

[Continue to allow deleting of Chirps...](https://web.archive.org/web/20240927030353/https://bootcamp.laravel.com/livewire/deleting-chirps)
