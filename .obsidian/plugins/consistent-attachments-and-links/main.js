/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && module2.default ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var ig=Object.create;var gi=Object.defineProperty;var og=Object.getOwnPropertyDescriptor;var sg=Object.getOwnPropertyNames;var ag=Object.getPrototypeOf,lg=Object.prototype.hasOwnProperty;var pt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Kl=(t,e)=>{for(var n in e)gi(t,n,{get:e[n],enumerable:!0})},Zl=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of sg(e))!lg.call(t,o)&&o!==n&&gi(t,o,{get:()=>e[o],enumerable:!(r=og(e,o))||r.enumerable});return t};var Je=(t,e,n)=>(n=t!=null?ig(ag(t)):{},Zl(e||!t||!t.__esModule?gi(n,"default",{value:t,enumerable:!0}):n,t)),ug=t=>Zl(gi({},"__esModule",{value:!0}),t);var ru=pt((wk,nu)=>{"use strict";function xt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function tu(t,e){for(var n="",r=0,o=-1,s=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(o===u-1||s===1))if(o!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),o=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),r=u-o-1;o=u,s=0}else l===46&&s!==-1?++s:s=-1}return n}function hg(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Yn={resolve:function(){for(var e="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),xt(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=tu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(xt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=tu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return xt(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];xt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Yn.normalize(e)},relative:function(e,n){if(xt(e),xt(n),e===n||(e=Yn.resolve(e),n=Yn.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,f=u-l,h=s<f?s:f,p=-1,m=0;m<=h;++m){if(m===h){if(f>h){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else s>h&&(e.charCodeAt(r+m)===47?p=m:m===0&&(p=0));break}var w=e.charCodeAt(r+m),y=n.charCodeAt(l+m);if(w!==y)break;w===47&&(p=m)}var x="";for(m=r+p+1;m<=o;++m)(m===o||e.charCodeAt(m)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+n.slice(l+p):(l+=p,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(xt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,o=-1,s=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!s){o=l;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');xt(e);var r=0,o=-1,s=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!s){r=l+1;break}}else f===-1&&(s=!1,f=l+1),u>=0&&(h===n.charCodeAt(u)?--u===-1&&(o=l):(u=-1,o=f))}return r===o?o=f:o===-1&&(o=e.length),e.slice(r,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!s){r=l+1;break}}else o===-1&&(s=!1,o=l+1);return o===-1?"":e.slice(r,o)}},extname:function(e){xt(e);for(var n=-1,r=0,o=-1,s=!0,l=0,u=e.length-1;u>=0;--u){var f=e.charCodeAt(u);if(f===47){if(!s){r=u+1;break}continue}o===-1&&(s=!1,o=u+1),f===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return hg("/",e)},parse:function(e){xt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var l=-1,u=0,f=-1,h=!0,p=e.length-1,m=0;p>=s;--p){if(r=e.charCodeAt(p),r===47){if(!h){u=p+1;break}continue}f===-1&&(h=!1,f=p+1),r===46?l===-1?l=p:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||f===-1||m===0||m===1&&l===f-1&&l===u+1?f!==-1&&(u===0&&o?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(u,f)):(u===0&&o?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(u,l),n.base=e.slice(u,f)),n.ext=e.slice(l,f)),u>0?n.dir=e.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Yn.posix=Yn;nu.exports=Yn});var ku=pt((Vk,yu)=>{var Hn=1e3,$n=Hn*60,jn=$n*60,kn=jn*24,xg=kn*7,Cg=kn*365.25;yu.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Ag(t);if(n==="number"&&isFinite(t))return e.long?Sg(t):Eg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ag(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Cg;case"weeks":case"week":case"w":return n*xg;case"days":case"day":case"d":return n*kn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*jn;case"minutes":case"minute":case"mins":case"min":case"m":return n*$n;case"seconds":case"second":case"secs":case"sec":case"s":return n*Hn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Eg(t){var e=Math.abs(t);return e>=kn?Math.round(t/kn)+"d":e>=jn?Math.round(t/jn)+"h":e>=$n?Math.round(t/$n)+"m":e>=Hn?Math.round(t/Hn)+"s":t+"ms"}function Sg(t){var e=Math.abs(t);return e>=kn?xi(t,e,kn,"day"):e>=jn?xi(t,e,jn,"hour"):e>=$n?xi(t,e,$n,"minute"):e>=Hn?xi(t,e,Hn,"second"):t+" ms"}function xi(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}});var Rs=pt((zk,bu)=>{function _g(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=o,n.enabled=u,n.humanize=ku(),n.destroy=h,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function e(p){let m=0;for(let w=0;w<p.length;w++)m=(m<<5)-m+p.charCodeAt(w),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(p){let m,w=null,y,x;function P(...S){if(!P.enabled)return;let C=P,T=Number(new Date),F=T-(m||T);C.diff=F,C.prev=m,C.curr=T,m=T,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let B=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,Q)=>{if(E==="%%")return"%";B++;let j=n.formatters[Q];if(typeof j=="function"){let G=S[B];E=j.call(C,G),S.splice(B,1),B--}return E}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return P.namespace=p,P.useColors=n.useColors(),P.color=n.selectColor(p),P.extend=r,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(y!==n.namespaces&&(y=n.namespaces,x=n.enabled(p)),x),set:S=>{w=S}}),typeof n.init=="function"&&n.init(P),P}function r(p,m){let w=n(this.namespace+(typeof m>"u"?":":m)+p);return w.log=this.log,w}function o(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let m=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of m)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function s(p,m){let w=0,y=0,x=-1,P=0;for(;w<p.length;)if(y<m.length&&(m[y]===p[w]||m[y]==="*"))m[y]==="*"?(x=y,P=w,y++):(w++,y++);else if(x!==-1)y=x+1,P++,w=P;else return!1;for(;y<m.length&&m[y]==="*";)y++;return y===m.length}function l(){let p=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),p}function u(p){for(let m of n.skips)if(s(p,m))return!1;for(let m of n.names)if(s(p,m))return!0;return!1}function f(p){return p instanceof Error?p.stack||p.message:p}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}bu.exports=_g});var vu=pt(($e,Ci)=>{$e.formatArgs=Fg;$e.save=Pg;$e.load=Dg;$e.useColors=Tg;$e.storage=Mg();$e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Tg(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Fg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Ci.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}$e.log=console.debug||console.log||(()=>{});function Pg(t){try{t?$e.storage.setItem("debug",t):$e.storage.removeItem("debug")}catch{}}function Dg(){let t;try{t=$e.storage.getItem("debug")||$e.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Mg(){try{return localStorage}catch{}}Ci.exports=Rs()($e);var{formatters:Ig}=Ci.exports;Ig.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Cu=pt((Uk,xu)=>{"use strict";xu.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1||r<o)}});var Su=pt((Hk,Eu)=>{"use strict";var Lg=require("os"),Au=require("tty"),nt=Cu(),{env:ve}=process,tn;nt("no-color")||nt("no-colors")||nt("color=false")||nt("color=never")?tn=0:(nt("color")||nt("colors")||nt("color=true")||nt("color=always"))&&(tn=1);"FORCE_COLOR"in ve&&(ve.FORCE_COLOR==="true"?tn=1:ve.FORCE_COLOR==="false"?tn=0:tn=ve.FORCE_COLOR.length===0?1:Math.min(parseInt(ve.FORCE_COLOR,10),3));function Ns(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ws(t,e){if(tn===0)return 0;if(nt("color=16m")||nt("color=full")||nt("color=truecolor"))return 3;if(nt("color=256"))return 2;if(t&&!e&&tn===void 0)return 0;let n=tn||0;if(ve.TERM==="dumb")return n;if(process.platform==="win32"){let r=Lg.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in ve)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in ve)||ve.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in ve)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ve.TEAMCITY_VERSION)?1:0;if(ve.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ve){let r=parseInt((ve.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ve.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ve.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ve.TERM)||"COLORTERM"in ve?1:n}function Og(t){let e=Ws(t,t&&t.isTTY);return Ns(e)}Eu.exports={supportsColor:Og,stdout:Ns(Ws(!0,Au.isatty(1))),stderr:Ns(Ws(!0,Au.isatty(2)))}});var Tu=pt((xe,Ei)=>{var Rg=require("tty"),Ai=require("util");xe.init=Ug;xe.log=Yg;xe.formatArgs=Wg;xe.save=Vg;xe.load=zg;xe.useColors=Ng;xe.destroy=Ai.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");xe.colors=[6,2,3,4,5,1];try{let t=Su();t&&(t.stderr||t).level>=2&&(xe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}xe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function Ng(){return"colors"in xe.inspectOpts?!!xe.inspectOpts.colors:Rg.isatty(process.stderr.fd)}function Wg(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(o+"m+"+Ei.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Bg()+e+" "+t[0]}function Bg(){return xe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Yg(...t){return process.stderr.write(Ai.formatWithOptions(xe.inspectOpts,...t)+`
`)}function Vg(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function zg(){return process.env.DEBUG}function Ug(t){t.inspectOpts={};let e=Object.keys(xe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=xe.inspectOpts[e[n]]}Ei.exports=Rs()(xe);var{formatters:_u}=Ei.exports;_u.o=function(t){return this.inspectOpts.colors=this.useColors,Ai.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};_u.O=function(t){return this.inspectOpts.colors=this.useColors,Ai.inspect(t,this.inspectOpts)}});var Fu=pt(($k,Bs)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Bs.exports=vu():Bs.exports=Tu()});var Uu=pt((Mi,zu)=>{(function(t,e){typeof Mi=="object"&&typeof zu<"u"?e(Mi):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Mi,function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let C=S.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return C.shift(),C},r=S=>S==="*"||S==="x"||S==="X",o=S=>{let C=parseInt(S,10);return isNaN(C)?S:C},s=(S,C)=>typeof S!=typeof C?[String(S),String(C)]:[S,C],l=(S,C)=>{if(r(S)||r(C))return 0;let[T,F]=s(o(S),o(C));return T>F?1:T<F?-1:0},u=(S,C)=>{for(let T=0;T<Math.max(S.length,C.length);T++){let F=l(S[T]||"0",C[T]||"0");if(F!==0)return F}return 0},f=(S,C)=>{let T=n(S),F=n(C),B=T.pop(),Y=F.pop(),E=u(T,F);return E!==0?E:B&&Y?u(B.split("."),Y.split(".")):B||Y?B?-1:1:0},h=(S,C,T)=>{w(T);let F=f(S,C);return p[T].includes(F)},p={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(p),w=S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},y=(S,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(ee=>y(S,ee));if(C.includes(" - ")){let[ee,ce]=C.split(" - ",2);return y(S,`>=${ee} <=${ce}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(ee=>y(S,ee));let T=C.match(/^([<>=~^]+)/),F=T?T[1]:"=";if(F!=="^"&&F!=="~")return h(S,C,F);let[B,Y,E,,Q]=n(S),[j,G,ne,,se]=n(C),X=[B,Y,E],N=[j,G??"x",ne??"x"];if(se&&(!Q||u(X,N)!==0||u(Q.split("."),se.split("."))===-1))return!1;let U=N.findIndex(ee=>ee!=="0")+1,V=F==="~"?2:U>1?U:1;return!(u(X.slice(0,V),N.slice(0,V))!==0||u(X.slice(V),N.slice(V))===-1)},x=S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),P=S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S);t.compare=h,t.compareVersions=f,t.satisfies=y,t.validate=x,t.validateStrict=P})});var vd=pt((jE,bd)=>{"use strict";var ao=Object.prototype.hasOwnProperty,kd=Object.prototype.toString,hd=Object.defineProperty,pd=Object.getOwnPropertyDescriptor,md=function(e){return typeof Array.isArray=="function"?Array.isArray(e):kd.call(e)==="[object Array]"},gd=function(e){if(!e||kd.call(e)!=="[object Object]")return!1;var n=ao.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ao.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var o;for(o in e);return typeof o>"u"||ao.call(e,o)},wd=function(e,n){hd&&n.name==="__proto__"?hd(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},yd=function(e,n){if(n==="__proto__")if(ao.call(e,n)){if(pd)return pd(e,n).value}else return;return e[n]};bd.exports=function t(){var e,n,r,o,s,l,u=arguments[0],f=1,h=arguments.length,p=!1;for(typeof u=="boolean"&&(p=u,u=arguments[1]||{},f=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});f<h;++f)if(e=arguments[f],e!=null)for(n in e)r=yd(u,n),o=yd(e,n),u!==o&&(p&&o&&(gd(o)||(s=md(o)))?(s?(s=!1,l=r&&md(r)?r:[]):l=r&&gd(r)?r:{},wd(u,{name:n,newValue:t(p,l,o)})):typeof o<"u"&&wd(u,{name:n,newValue:o}));return u}});var Pn=pt((rl,dr)=>{(function(t,e){typeof rl=="object"&&typeof dr<"u"?dr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(rl,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(i){t=i}function r(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function o(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function s(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function l(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(s(i,a))return!1;return!0}function u(i){return i===void 0}function f(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function h(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function p(i,a){var c=[],d,g=i.length;for(d=0;d<g;++d)c.push(a(i[d],d));return c}function m(i,a){for(var c in a)s(a,c)&&(i[c]=a[c]);return s(a,"toString")&&(i.toString=a.toString),s(a,"valueOf")&&(i.valueOf=a.valueOf),i}function w(i,a,c,d){return Sl(i,a,c,d,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(i){return i._pf==null&&(i._pf=y()),i._pf}var P;Array.prototype.some?P=Array.prototype.some:P=function(i){var a=Object(this),c=a.length>>>0,d;for(d=0;d<c;d++)if(d in a&&i.call(this,a[d],d,a))return!0;return!1};function S(i){var a=null,c=!1,d=i._d&&!isNaN(i._d.getTime());if(d&&(a=x(i),c=P.call(a.parsedDateParts,function(g){return g!=null}),d=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),i._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=d;else return d;return i._isValid}function C(i){var a=w(NaN);return i!=null?m(x(a),i):x(a).userInvalidated=!0,a}var T=e.momentProperties=[],F=!1;function B(i,a){var c,d,g,b=T.length;if(u(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),u(a._i)||(i._i=a._i),u(a._f)||(i._f=a._f),u(a._l)||(i._l=a._l),u(a._strict)||(i._strict=a._strict),u(a._tzm)||(i._tzm=a._tzm),u(a._isUTC)||(i._isUTC=a._isUTC),u(a._offset)||(i._offset=a._offset),u(a._pf)||(i._pf=x(a)),u(a._locale)||(i._locale=a._locale),b>0)for(c=0;c<b;c++)d=T[c],g=a[d],u(g)||(i[d]=g);return i}function Y(i){B(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),F===!1&&(F=!0,e.updateOffset(this),F=!1)}function E(i){return i instanceof Y||i!=null&&i._isAMomentObject!=null}function Q(i){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function j(i,a){var c=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),c){var d=[],g,b,A,L=arguments.length;for(b=0;b<L;b++){if(g="",typeof arguments[b]=="object"){g+=`
[`+b+"] ";for(A in arguments[0])s(arguments[0],A)&&(g+=A+": "+arguments[0][A]+", ");g=g.slice(0,-2)}else g=arguments[b];d.push(g)}Q(i+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var G={};function ne(i,a){e.deprecationHandler!=null&&e.deprecationHandler(i,a),G[i]||(Q(a),G[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function se(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function X(i){var a,c;for(c in i)s(i,c)&&(a=i[c],se(a)?this[c]=a:this["_"+c]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(i,a){var c=m({},i),d;for(d in a)s(a,d)&&(o(i[d])&&o(a[d])?(c[d]={},m(c[d],i[d]),m(c[d],a[d])):a[d]!=null?c[d]=a[d]:delete c[d]);for(d in i)s(i,d)&&!s(a,d)&&o(i[d])&&(c[d]=m({},c[d]));return c}function U(i){i!=null&&this.set(i)}var V;Object.keys?V=Object.keys:V=function(i){var a,c=[];for(a in i)s(i,a)&&c.push(a);return c};var ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(i,a,c){var d=this._calendar[i]||this._calendar.sameElse;return se(d)?d.call(a,c):d}function he(i,a,c){var d=""+Math.abs(i),g=a-d.length,b=i>=0;return(b?c?"+":"":"-")+Math.pow(10,Math.max(0,g)).toString().substr(1)+d}var ze=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_e={},Te={};function k(i,a,c,d){var g=d;typeof d=="string"&&(g=function(){return this[d]()}),i&&(Te[i]=g),a&&(Te[a[0]]=function(){return he(g.apply(this,arguments),a[1],a[2])}),c&&(Te[c]=function(){return this.localeData().ordinal(g.apply(this,arguments),i)})}function Le(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function Dt(i){var a=i.match(ze),c,d;for(c=0,d=a.length;c<d;c++)Te[a[c]]?a[c]=Te[a[c]]:a[c]=Le(a[c]);return function(g){var b="",A;for(A=0;A<d;A++)b+=se(a[A])?a[A].call(g,i):a[A];return b}}function Zt(i,a){return i.isValid()?(a=dn(a,i.localeData()),_e[a]=_e[a]||Dt(a),_e[a](i)):i.localeData().invalidDate()}function dn(i,a){var c=5;function d(g){return a.longDateFormat(g)||g}for(v.lastIndex=0;c>=0&&v.test(i);)i=i.replace(v,d),v.lastIndex=0,c-=1;return i}var ge={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function fn(i){var a=this._longDateFormat[i],c=this._longDateFormat[i.toUpperCase()];return a||!c?a:(this._longDateFormat[i]=c.match(ze).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[i])}var lt="Invalid date";function Mt(){return this._invalidDate}var Qt="%d",pr=/\d{1,2}/;function as(i){return this._ordinal.replace("%d",i)}var Qr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Jr(i,a,c,d){var g=this._relativeTime[c];return se(g)?g(i,a,c,d):g.replace(/%d/i,i)}function Xr(i,a){var c=this._relativeTime[i>0?"future":"past"];return se(c)?c(a):c.replace(/%s/i,a)}var ei={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Oe(i){return typeof i=="string"?ei[i]||ei[i.toLowerCase()]:void 0}function Mn(i){var a={},c,d;for(d in i)s(i,d)&&(c=Oe(d),c&&(a[c]=i[d]));return a}var ls={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function us(i){var a=[],c;for(c in i)s(i,c)&&a.push({unit:c,priority:ls[c]});return a.sort(function(d,g){return d.priority-g.priority}),a}var ti=/\d/,Re=/\d\d/,ni=/\d{3}/,_=/\d{4}/,M=/[+-]?\d{6}/,I=/\d\d?/,q=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,Fe=/\d{1,3}/,ut=/\d{1,4}/,Ue=/[+-]?\d{1,6}/,Ze=/\d+/,kt=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,ct=/Z|[+-]\d\d(?::?\d\d)?/gi,dt=/[+-]?\d+(\.\d{1,3})?/,mr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,In=/^[1-9]\d?/,cs=/^([1-9]\d|\d)/,ri;ri={};function O(i,a,c){ri[i]=se(a)?a:function(d,g){return d&&c?c:a}}function Ef(i,a){return s(ri,i)?ri[i](a._strict,a._locale):new RegExp(Sf(i))}function Sf(i){return It(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,g,b){return c||d||g||b}))}function It(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function K(i){var a=+i,c=0;return a!==0&&isFinite(a)&&(c=Qe(a)),c}var ds={};function ie(i,a){var c,d=a,g;for(typeof i=="string"&&(i=[i]),f(a)&&(d=function(b,A){A[a]=K(b)}),g=i.length,c=0;c<g;c++)ds[i[c]]=d}function gr(i,a){ie(i,function(c,d,g,b){g._w=g._w||{},a(c,g._w,g,b)})}function _f(i,a,c){a!=null&&s(ds,i)&&ds[i](a,c._a,c,i)}function ii(i){return i%4===0&&i%100!==0||i%400===0}var Pe=0,Lt=1,bt=2,we=3,ft=4,Ot=5,hn=6,Tf=7,Ff=8;k("Y",0,0,function(){var i=this.year();return i<=9999?he(i,4):"+"+i}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),O("Y",kt),O("YY",I,Re),O("YYYY",ut,_),O("YYYYY",Ue,M),O("YYYYYY",Ue,M),ie(["YYYYY","YYYYYY"],Pe),ie("YYYY",function(i,a){a[Pe]=i.length===2?e.parseTwoDigitYear(i):K(i)}),ie("YY",function(i,a){a[Pe]=e.parseTwoDigitYear(i)}),ie("Y",function(i,a){a[Pe]=parseInt(i,10)});function wr(i){return ii(i)?366:365}e.parseTwoDigitYear=function(i){return K(i)+(K(i)>68?1900:2e3)};var cl=Ln("FullYear",!0);function Pf(){return ii(this.year())}function Ln(i,a){return function(c){return c!=null?(dl(this,i,c),e.updateOffset(this,a),this):yr(this,i)}}function yr(i,a){if(!i.isValid())return NaN;var c=i._d,d=i._isUTC;switch(a){case"Milliseconds":return d?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return d?c.getUTCSeconds():c.getSeconds();case"Minutes":return d?c.getUTCMinutes():c.getMinutes();case"Hours":return d?c.getUTCHours():c.getHours();case"Date":return d?c.getUTCDate():c.getDate();case"Day":return d?c.getUTCDay():c.getDay();case"Month":return d?c.getUTCMonth():c.getMonth();case"FullYear":return d?c.getUTCFullYear():c.getFullYear();default:return NaN}}function dl(i,a,c){var d,g,b,A,L;if(!(!i.isValid()||isNaN(c))){switch(d=i._d,g=i._isUTC,a){case"Milliseconds":return void(g?d.setUTCMilliseconds(c):d.setMilliseconds(c));case"Seconds":return void(g?d.setUTCSeconds(c):d.setSeconds(c));case"Minutes":return void(g?d.setUTCMinutes(c):d.setMinutes(c));case"Hours":return void(g?d.setUTCHours(c):d.setHours(c));case"Date":return void(g?d.setUTCDate(c):d.setDate(c));case"FullYear":break;default:return}b=c,A=i.month(),L=i.date(),L=L===29&&A===1&&!ii(b)?28:L,g?d.setUTCFullYear(b,A,L):d.setFullYear(b,A,L)}}function Df(i){return i=Oe(i),se(this[i])?this[i]():this}function Mf(i,a){if(typeof i=="object"){i=Mn(i);var c=us(i),d,g=c.length;for(d=0;d<g;d++)this[c[d].unit](i[c[d].unit])}else if(i=Oe(i),se(this[i]))return this[i](a);return this}function If(i,a){return(i%a+a)%a}var pe;Array.prototype.indexOf?pe=Array.prototype.indexOf:pe=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function fs(i,a){if(isNaN(i)||isNaN(a))return NaN;var c=If(a,12);return i+=(a-c)/12,c===1?ii(i)?29:28:31-c%7%2}k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),k("MMMM",0,0,function(i){return this.localeData().months(this,i)}),O("M",I,In),O("MM",I,Re),O("MMM",function(i,a){return a.monthsShortRegex(i)}),O("MMMM",function(i,a){return a.monthsRegex(i)}),ie(["M","MM"],function(i,a){a[Lt]=K(i)-1}),ie(["MMM","MMMM"],function(i,a,c,d){var g=c._locale.monthsParse(i,d,c._strict);g!=null?a[Lt]=g:x(c).invalidMonth=i});var Lf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Of=mr,Rf=mr;function Nf(i,a){return i?r(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||hl).test(a)?"format":"standalone"][i.month()]:r(this._months)?this._months:this._months.standalone}function Wf(i,a){return i?r(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[hl.test(a)?"format":"standalone"][i.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Bf(i,a,c){var d,g,b,A=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)b=w([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(b,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(b,"").toLocaleLowerCase();return c?a==="MMM"?(g=pe.call(this._shortMonthsParse,A),g!==-1?g:null):(g=pe.call(this._longMonthsParse,A),g!==-1?g:null):a==="MMM"?(g=pe.call(this._shortMonthsParse,A),g!==-1?g:(g=pe.call(this._longMonthsParse,A),g!==-1?g:null)):(g=pe.call(this._longMonthsParse,A),g!==-1?g:(g=pe.call(this._shortMonthsParse,A),g!==-1?g:null))}function Yf(i,a,c){var d,g,b;if(this._monthsParseExact)return Bf.call(this,i,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(g=w([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(b="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[d]=new RegExp(b.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[d].test(i))return d;if(c&&a==="MMM"&&this._shortMonthsParse[d].test(i))return d;if(!c&&this._monthsParse[d].test(i))return d}}function pl(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=K(a);else if(a=i.localeData().monthsParse(a),!f(a))return i}var c=a,d=i.date();return d=d<29?d:Math.min(d,fs(i.year(),c)),i._isUTC?i._d.setUTCMonth(c,d):i._d.setMonth(c,d),i}function ml(i){return i!=null?(pl(this,i),e.updateOffset(this,!0),this):yr(this,"Month")}function Vf(){return fs(this.year(),this.month())}function zf(i){return this._monthsParseExact?(s(this,"_monthsRegex")||gl.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Of),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function Uf(i){return this._monthsParseExact?(s(this,"_monthsRegex")||gl.call(this),i?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Rf),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function gl(){function i(z,Z){return Z.length-z.length}var a=[],c=[],d=[],g,b,A,L;for(g=0;g<12;g++)b=w([2e3,g]),A=It(this.monthsShort(b,"")),L=It(this.months(b,"")),a.push(A),c.push(L),d.push(L),d.push(A);a.sort(i),c.sort(i),d.sort(i),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Hf(i,a,c,d,g,b,A){var L;return i<100&&i>=0?(L=new Date(i+400,a,c,d,g,b,A),isFinite(L.getFullYear())&&L.setFullYear(i)):L=new Date(i,a,c,d,g,b,A),L}function kr(i){var a,c;return i<100&&i>=0?(c=Array.prototype.slice.call(arguments),c[0]=i+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function oi(i,a,c){var d=7+a-c,g=(7+kr(i,0,d).getUTCDay()-a)%7;return-g+d-1}function wl(i,a,c,d,g){var b=(7+c-d)%7,A=oi(i,d,g),L=1+7*(a-1)+b+A,z,Z;return L<=0?(z=i-1,Z=wr(z)+L):L>wr(i)?(z=i+1,Z=L-wr(i)):(z=i,Z=L),{year:z,dayOfYear:Z}}function br(i,a,c){var d=oi(i.year(),a,c),g=Math.floor((i.dayOfYear()-d-1)/7)+1,b,A;return g<1?(A=i.year()-1,b=g+Rt(A,a,c)):g>Rt(i.year(),a,c)?(b=g-Rt(i.year(),a,c),A=i.year()+1):(A=i.year(),b=g),{week:b,year:A}}function Rt(i,a,c){var d=oi(i,a,c),g=oi(i+1,a,c);return(wr(i)-d+g)/7}k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),O("w",I,In),O("ww",I,Re),O("W",I,In),O("WW",I,Re),gr(["w","ww","W","WW"],function(i,a,c,d){a[d.substr(0,1)]=K(i)});function $f(i){return br(i,this._week.dow,this._week.doy).week}var jf={dow:0,doy:6};function Gf(){return this._week.dow}function qf(){return this._week.doy}function Kf(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function Zf(i){var a=br(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}k("d",0,"do","day"),k("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),k("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),k("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),O("d",I),O("e",I),O("E",I),O("dd",function(i,a){return a.weekdaysMinRegex(i)}),O("ddd",function(i,a){return a.weekdaysShortRegex(i)}),O("dddd",function(i,a){return a.weekdaysRegex(i)}),gr(["dd","ddd","dddd"],function(i,a,c,d){var g=c._locale.weekdaysParse(i,d,c._strict);g!=null?a.d=g:x(c).invalidWeekday=i}),gr(["d","e","E"],function(i,a,c,d){a[d]=K(i)});function Qf(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function Jf(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function hs(i,a){return i.slice(a,7).concat(i.slice(0,a))}var Xf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),eh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),th=mr,nh=mr,rh=mr;function ih(i,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?hs(c,this._week.dow):i?c[i.day()]:c}function oh(i){return i===!0?hs(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function sh(i){return i===!0?hs(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function ah(i,a,c){var d,g,b,A=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)b=w([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(b,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(b,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(b,"").toLocaleLowerCase();return c?a==="dddd"?(g=pe.call(this._weekdaysParse,A),g!==-1?g:null):a==="ddd"?(g=pe.call(this._shortWeekdaysParse,A),g!==-1?g:null):(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null):a==="dddd"?(g=pe.call(this._weekdaysParse,A),g!==-1||(g=pe.call(this._shortWeekdaysParse,A),g!==-1)?g:(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null)):a==="ddd"?(g=pe.call(this._shortWeekdaysParse,A),g!==-1||(g=pe.call(this._weekdaysParse,A),g!==-1)?g:(g=pe.call(this._minWeekdaysParse,A),g!==-1?g:null)):(g=pe.call(this._minWeekdaysParse,A),g!==-1||(g=pe.call(this._weekdaysParse,A),g!==-1)?g:(g=pe.call(this._shortWeekdaysParse,A),g!==-1?g:null))}function lh(i,a,c){var d,g,b;if(this._weekdaysParseExact)return ah.call(this,i,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(g=w([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(g,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(g,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(g,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(b="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[d]=new RegExp(b.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[d].test(i))return d;if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(i))return d;if(c&&a==="dd"&&this._minWeekdaysParse[d].test(i))return d;if(!c&&this._weekdaysParse[d].test(i))return d}}function uh(i){if(!this.isValid())return i!=null?this:NaN;var a=yr(this,"Day");return i!=null?(i=Qf(i,this.localeData()),this.add(i-a,"d")):a}function ch(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function dh(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=Jf(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function fh(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ps.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=th),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function hh(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ps.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nh),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ph(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||ps.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=rh),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ps(){function i(We,Vt){return Vt.length-We.length}var a=[],c=[],d=[],g=[],b,A,L,z,Z;for(b=0;b<7;b++)A=w([2e3,1]).day(b),L=It(this.weekdaysMin(A,"")),z=It(this.weekdaysShort(A,"")),Z=It(this.weekdays(A,"")),a.push(L),c.push(z),d.push(Z),g.push(L),g.push(z),g.push(Z);a.sort(i),c.sort(i),d.sort(i),g.sort(i),this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ms(){return this.hours()%12||12}function mh(){return this.hours()||24}k("H",["HH",2],0,"hour"),k("h",["hh",2],0,ms),k("k",["kk",2],0,mh),k("hmm",0,0,function(){return""+ms.apply(this)+he(this.minutes(),2)}),k("hmmss",0,0,function(){return""+ms.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function kl(i,a){k(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}kl("a",!0),kl("A",!1);function bl(i,a){return a._meridiemParse}O("a",bl),O("A",bl),O("H",I,cs),O("h",I,In),O("k",I,In),O("HH",I,Re),O("hh",I,Re),O("kk",I,Re),O("hmm",q),O("hmmss",re),O("Hmm",q),O("Hmmss",re),ie(["H","HH"],we),ie(["k","kk"],function(i,a,c){var d=K(i);a[we]=d===24?0:d}),ie(["a","A"],function(i,a,c){c._isPm=c._locale.isPM(i),c._meridiem=i}),ie(["h","hh"],function(i,a,c){a[we]=K(i),x(c).bigHour=!0}),ie("hmm",function(i,a,c){var d=i.length-2;a[we]=K(i.substr(0,d)),a[ft]=K(i.substr(d)),x(c).bigHour=!0}),ie("hmmss",function(i,a,c){var d=i.length-4,g=i.length-2;a[we]=K(i.substr(0,d)),a[ft]=K(i.substr(d,2)),a[Ot]=K(i.substr(g)),x(c).bigHour=!0}),ie("Hmm",function(i,a,c){var d=i.length-2;a[we]=K(i.substr(0,d)),a[ft]=K(i.substr(d))}),ie("Hmmss",function(i,a,c){var d=i.length-4,g=i.length-2;a[we]=K(i.substr(0,d)),a[ft]=K(i.substr(d,2)),a[Ot]=K(i.substr(g))});function gh(i){return(i+"").toLowerCase().charAt(0)==="p"}var wh=/[ap]\.?m?\.?/i,yh=Ln("Hours",!0);function kh(i,a,c){return i>11?c?"pm":"PM":c?"am":"AM"}var vl={calendar:ee,longDateFormat:ge,invalidDate:lt,ordinal:Qt,dayOfMonthOrdinalParse:pr,relativeTime:Qr,months:Lf,monthsShort:fl,week:jf,weekdays:Xf,weekdaysMin:eh,weekdaysShort:yl,meridiemParse:wh},ue={},vr={},xr;function bh(i,a){var c,d=Math.min(i.length,a.length);for(c=0;c<d;c+=1)if(i[c]!==a[c])return c;return d}function xl(i){return i&&i.toLowerCase().replace("_","-")}function vh(i){for(var a=0,c,d,g,b;a<i.length;){for(b=xl(i[a]).split("-"),c=b.length,d=xl(i[a+1]),d=d?d.split("-"):null;c>0;){if(g=si(b.slice(0,c).join("-")),g)return g;if(d&&d.length>=c&&bh(b,d)>=c-1)break;c--}a++}return xr}function xh(i){return!!(i&&i.match("^[^/\\\\]*$"))}function si(i){var a=null,c;if(ue[i]===void 0&&typeof dr<"u"&&dr&&dr.exports&&xh(i))try{a=xr._abbr,c=require,c("./locale/"+i),Jt(a)}catch{ue[i]=null}return ue[i]}function Jt(i,a){var c;return i&&(u(a)?c=Nt(i):c=gs(i,a),c?xr=c:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),xr._abbr}function gs(i,a){if(a!==null){var c,d=vl;if(a.abbr=i,ue[i]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=ue[i]._config;else if(a.parentLocale!=null)if(ue[a.parentLocale]!=null)d=ue[a.parentLocale]._config;else if(c=si(a.parentLocale),c!=null)d=c._config;else return vr[a.parentLocale]||(vr[a.parentLocale]=[]),vr[a.parentLocale].push({name:i,config:a}),null;return ue[i]=new U(N(d,a)),vr[i]&&vr[i].forEach(function(g){gs(g.name,g.config)}),Jt(i),ue[i]}else return delete ue[i],null}function Ch(i,a){if(a!=null){var c,d,g=vl;ue[i]!=null&&ue[i].parentLocale!=null?ue[i].set(N(ue[i]._config,a)):(d=si(i),d!=null&&(g=d._config),a=N(g,a),d==null&&(a.abbr=i),c=new U(a),c.parentLocale=ue[i],ue[i]=c),Jt(i)}else ue[i]!=null&&(ue[i].parentLocale!=null?(ue[i]=ue[i].parentLocale,i===Jt()&&Jt(i)):ue[i]!=null&&delete ue[i]);return ue[i]}function Nt(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return xr;if(!r(i)){if(a=si(i),a)return a;i=[i]}return vh(i)}function Ah(){return V(ue)}function ws(i){var a,c=i._a;return c&&x(i).overflow===-2&&(a=c[Lt]<0||c[Lt]>11?Lt:c[bt]<1||c[bt]>fs(c[Pe],c[Lt])?bt:c[we]<0||c[we]>24||c[we]===24&&(c[ft]!==0||c[Ot]!==0||c[hn]!==0)?we:c[ft]<0||c[ft]>59?ft:c[Ot]<0||c[Ot]>59?Ot:c[hn]<0||c[hn]>999?hn:-1,x(i)._overflowDayOfYear&&(a<Pe||a>bt)&&(a=bt),x(i)._overflowWeeks&&a===-1&&(a=Tf),x(i)._overflowWeekday&&a===-1&&(a=Ff),x(i).overflow=a),i}var Eh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_h=/Z|[+-]\d\d(?::?\d\d)?/,ai=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ys=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Th=/^\/?Date\((-?\d+)/i,Fh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ph={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Cl(i){var a,c,d=i._i,g=Eh.exec(d)||Sh.exec(d),b,A,L,z,Z=ai.length,We=ys.length;if(g){for(x(i).iso=!0,a=0,c=Z;a<c;a++)if(ai[a][1].exec(g[1])){A=ai[a][0],b=ai[a][2]!==!1;break}if(A==null){i._isValid=!1;return}if(g[3]){for(a=0,c=We;a<c;a++)if(ys[a][1].exec(g[3])){L=(g[2]||" ")+ys[a][0];break}if(L==null){i._isValid=!1;return}}if(!b&&L!=null){i._isValid=!1;return}if(g[4])if(_h.exec(g[4]))z="Z";else{i._isValid=!1;return}i._f=A+(L||"")+(z||""),bs(i)}else i._isValid=!1}function Dh(i,a,c,d,g,b){var A=[Mh(i),fl.indexOf(a),parseInt(c,10),parseInt(d,10),parseInt(g,10)];return b&&A.push(parseInt(b,10)),A}function Mh(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function Ih(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Lh(i,a,c){if(i){var d=yl.indexOf(i),g=new Date(a[0],a[1],a[2]).getDay();if(d!==g)return x(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function Oh(i,a,c){if(i)return Ph[i];if(a)return 0;var d=parseInt(c,10),g=d%100,b=(d-g)/100;return b*60+g}function Al(i){var a=Fh.exec(Ih(i._i)),c;if(a){if(c=Dh(a[4],a[3],a[2],a[5],a[6],a[7]),!Lh(a[1],c,i))return;i._a=c,i._tzm=Oh(a[8],a[9],a[10]),i._d=kr.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),x(i).rfc2822=!0}else i._isValid=!1}function Rh(i){var a=Th.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(Cl(i),i._isValid===!1)delete i._isValid;else return;if(Al(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function On(i,a,c){return i??a??c}function Nh(i){var a=new Date(e.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function ks(i){var a,c,d=[],g,b,A;if(!i._d){for(g=Nh(i),i._w&&i._a[bt]==null&&i._a[Lt]==null&&Wh(i),i._dayOfYear!=null&&(A=On(i._a[Pe],g[Pe]),(i._dayOfYear>wr(A)||i._dayOfYear===0)&&(x(i)._overflowDayOfYear=!0),c=kr(A,0,i._dayOfYear),i._a[Lt]=c.getUTCMonth(),i._a[bt]=c.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=d[a]=g[a];for(;a<7;a++)i._a[a]=d[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[we]===24&&i._a[ft]===0&&i._a[Ot]===0&&i._a[hn]===0&&(i._nextDay=!0,i._a[we]=0),i._d=(i._useUTC?kr:Hf).apply(null,d),b=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[we]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==b&&(x(i).weekdayMismatch=!0)}}function Wh(i){var a,c,d,g,b,A,L,z,Z;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(b=1,A=4,c=On(a.GG,i._a[Pe],br(le(),1,4).year),d=On(a.W,1),g=On(a.E,1),(g<1||g>7)&&(z=!0)):(b=i._locale._week.dow,A=i._locale._week.doy,Z=br(le(),b,A),c=On(a.gg,i._a[Pe],Z.year),d=On(a.w,Z.week),a.d!=null?(g=a.d,(g<0||g>6)&&(z=!0)):a.e!=null?(g=a.e+b,(a.e<0||a.e>6)&&(z=!0)):g=b),d<1||d>Rt(c,b,A)?x(i)._overflowWeeks=!0:z!=null?x(i)._overflowWeekday=!0:(L=wl(c,d,g,b,A),i._a[Pe]=L.year,i._dayOfYear=L.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function bs(i){if(i._f===e.ISO_8601){Cl(i);return}if(i._f===e.RFC_2822){Al(i);return}i._a=[],x(i).empty=!0;var a=""+i._i,c,d,g,b,A,L=a.length,z=0,Z,We;for(g=dn(i._f,i._locale).match(ze)||[],We=g.length,c=0;c<We;c++)b=g[c],d=(a.match(Ef(b,i))||[])[0],d&&(A=a.substr(0,a.indexOf(d)),A.length>0&&x(i).unusedInput.push(A),a=a.slice(a.indexOf(d)+d.length),z+=d.length),Te[b]?(d?x(i).empty=!1:x(i).unusedTokens.push(b),_f(b,d,i)):i._strict&&!d&&x(i).unusedTokens.push(b);x(i).charsLeftOver=L-z,a.length>0&&x(i).unusedInput.push(a),i._a[we]<=12&&x(i).bigHour===!0&&i._a[we]>0&&(x(i).bigHour=void 0),x(i).parsedDateParts=i._a.slice(0),x(i).meridiem=i._meridiem,i._a[we]=Bh(i._locale,i._a[we],i._meridiem),Z=x(i).era,Z!==null&&(i._a[Pe]=i._locale.erasConvertYear(Z,i._a[Pe])),ks(i),ws(i)}function Bh(i,a,c){var d;return c==null?a:i.meridiemHour!=null?i.meridiemHour(a,c):(i.isPM!=null&&(d=i.isPM(c),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function Yh(i){var a,c,d,g,b,A,L=!1,z=i._f.length;if(z===0){x(i).invalidFormat=!0,i._d=new Date(NaN);return}for(g=0;g<z;g++)b=0,A=!1,a=B({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[g],bs(a),S(a)&&(A=!0),b+=x(a).charsLeftOver,b+=x(a).unusedTokens.length*10,x(a).score=b,L?b<d&&(d=b,c=a):(d==null||b<d||A)&&(d=b,c=a,A&&(L=!0));m(i,c||a)}function Vh(i){if(!i._d){var a=Mn(i._i),c=a.day===void 0?a.date:a.day;i._a=p([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),ks(i)}}function zh(i){var a=new Y(ws(El(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function El(i){var a=i._i,c=i._f;return i._locale=i._locale||Nt(i._l),a===null||c===void 0&&a===""?C({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),E(a)?new Y(ws(a)):(h(a)?i._d=a:r(c)?Yh(i):c?bs(i):Uh(i),S(i)||(i._d=null),i))}function Uh(i){var a=i._i;u(a)?i._d=new Date(e.now()):h(a)?i._d=new Date(a.valueOf()):typeof a=="string"?Rh(i):r(a)?(i._a=p(a.slice(0),function(c){return parseInt(c,10)}),ks(i)):o(a)?Vh(i):f(a)?i._d=new Date(a):e.createFromInputFallback(i)}function Sl(i,a,c,d,g){var b={};return(a===!0||a===!1)&&(d=a,a=void 0),(c===!0||c===!1)&&(d=c,c=void 0),(o(i)&&l(i)||r(i)&&i.length===0)&&(i=void 0),b._isAMomentObject=!0,b._useUTC=b._isUTC=g,b._l=c,b._i=i,b._f=a,b._strict=d,zh(b)}function le(i,a,c,d){return Sl(i,a,c,d,!1)}var Hh=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:C()}),$h=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:C()});function _l(i,a){var c,d;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return le();for(c=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][i](c))&&(c=a[d]);return c}function jh(){var i=[].slice.call(arguments,0);return _l("isBefore",i)}function Gh(){var i=[].slice.call(arguments,0);return _l("isAfter",i)}var qh=function(){return Date.now?Date.now():+new Date},Cr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Kh(i){var a,c=!1,d,g=Cr.length;for(a in i)if(s(i,a)&&!(pe.call(Cr,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(d=0;d<g;++d)if(i[Cr[d]]){if(c)return!1;parseFloat(i[Cr[d]])!==K(i[Cr[d]])&&(c=!0)}return!0}function Zh(){return this._isValid}function Qh(){return ht(NaN)}function li(i){var a=Mn(i),c=a.year||0,d=a.quarter||0,g=a.month||0,b=a.week||a.isoWeek||0,A=a.day||0,L=a.hour||0,z=a.minute||0,Z=a.second||0,We=a.millisecond||0;this._isValid=Kh(a),this._milliseconds=+We+Z*1e3+z*6e4+L*1e3*60*60,this._days=+A+b*7,this._months=+g+d*3+c*12,this._data={},this._locale=Nt(),this._bubble()}function ui(i){return i instanceof li}function vs(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function Jh(i,a,c){var d=Math.min(i.length,a.length),g=Math.abs(i.length-a.length),b=0,A;for(A=0;A<d;A++)(c&&i[A]!==a[A]||!c&&K(i[A])!==K(a[A]))&&b++;return b+g}function Tl(i,a){k(i,0,0,function(){var c=this.utcOffset(),d="+";return c<0&&(c=-c,d="-"),d+he(~~(c/60),2)+a+he(~~c%60,2)})}Tl("Z",":"),Tl("ZZ",""),O("Z",ct),O("ZZ",ct),ie(["Z","ZZ"],function(i,a,c){c._useUTC=!0,c._tzm=xs(ct,i)});var Xh=/([\+\-]|\d\d)/gi;function xs(i,a){var c=(a||"").match(i),d,g,b;return c===null?null:(d=c[c.length-1]||[],g=(d+"").match(Xh)||["-",0,0],b=+(g[1]*60)+K(g[2]),b===0?0:g[0]==="+"?b:-b)}function Cs(i,a){var c,d;return a._isUTC?(c=a.clone(),d=(E(i)||h(i)?i.valueOf():le(i).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),e.updateOffset(c,!1),c):le(i).local()}function As(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function ep(i,a,c){var d=this._offset||0,g;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=xs(ct,i),i===null)return this}else Math.abs(i)<16&&!c&&(i=i*60);return!this._isUTC&&a&&(g=As(this)),this._offset=i,this._isUTC=!0,g!=null&&this.add(g,"m"),d!==i&&(!a||this._changeInProgress?Ml(this,ht(i-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:As(this)}function tp(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function np(i){return this.utcOffset(0,i)}function rp(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(As(this),"m")),this}function ip(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=xs(Ne,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function op(i){return this.isValid()?(i=i?le(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function sp(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ap(){if(!u(this._isDSTShifted))return this._isDSTShifted;var i={},a;return B(i,this),i=El(i),i._a?(a=i._isUTC?w(i._a):le(i._a),this._isDSTShifted=this.isValid()&&Jh(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function lp(){return this.isValid()?!this._isUTC:!1}function up(){return this.isValid()?this._isUTC:!1}function Fl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var cp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,dp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ht(i,a){var c=i,d=null,g,b,A;return ui(i)?c={ms:i._milliseconds,d:i._days,M:i._months}:f(i)||!isNaN(+i)?(c={},a?c[a]=+i:c.milliseconds=+i):(d=cp.exec(i))?(g=d[1]==="-"?-1:1,c={y:0,d:K(d[bt])*g,h:K(d[we])*g,m:K(d[ft])*g,s:K(d[Ot])*g,ms:K(vs(d[hn]*1e3))*g}):(d=dp.exec(i))?(g=d[1]==="-"?-1:1,c={y:pn(d[2],g),M:pn(d[3],g),w:pn(d[4],g),d:pn(d[5],g),h:pn(d[6],g),m:pn(d[7],g),s:pn(d[8],g)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(A=fp(le(c.from),le(c.to)),c={},c.ms=A.milliseconds,c.M=A.months),b=new li(c),ui(i)&&s(i,"_locale")&&(b._locale=i._locale),ui(i)&&s(i,"_isValid")&&(b._isValid=i._isValid),b}ht.fn=li.prototype,ht.invalid=Qh;function pn(i,a){var c=i&&parseFloat(i.replace(",","."));return(isNaN(c)?0:c)*a}function Pl(i,a){var c={};return c.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+i.clone().add(c.months,"M"),c}function fp(i,a){var c;return i.isValid()&&a.isValid()?(a=Cs(a,i),i.isBefore(a)?c=Pl(i,a):(c=Pl(a,i),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Dl(i,a){return function(c,d){var g,b;return d!==null&&!isNaN(+d)&&(ne(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),b=c,c=d,d=b),g=ht(c,d),Ml(this,g,i),this}}function Ml(i,a,c,d){var g=a._milliseconds,b=vs(a._days),A=vs(a._months);i.isValid()&&(d=d??!0,A&&pl(i,yr(i,"Month")+A*c),b&&dl(i,"Date",yr(i,"Date")+b*c),g&&i._d.setTime(i._d.valueOf()+g*c),d&&e.updateOffset(i,b||A))}var hp=Dl(1,"add"),pp=Dl(-1,"subtract");function Il(i){return typeof i=="string"||i instanceof String}function mp(i){return E(i)||h(i)||Il(i)||f(i)||wp(i)||gp(i)||i===null||i===void 0}function gp(i){var a=o(i)&&!l(i),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],g,b,A=d.length;for(g=0;g<A;g+=1)b=d[g],c=c||s(i,b);return a&&c}function wp(i){var a=r(i),c=!1;return a&&(c=i.filter(function(d){return!f(d)&&Il(i)}).length===0),a&&c}function yp(i){var a=o(i)&&!l(i),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],g,b;for(g=0;g<d.length;g+=1)b=d[g],c=c||s(i,b);return a&&c}function kp(i,a){var c=i.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function bp(i,a){arguments.length===1&&(arguments[0]?mp(arguments[0])?(i=arguments[0],a=void 0):yp(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var c=i||le(),d=Cs(c,this).startOf("day"),g=e.calendarFormat(this,d)||"sameElse",b=a&&(se(a[g])?a[g].call(this,c):a[g]);return this.format(b||this.localeData().calendar(g,this,le(c)))}function vp(){return new Y(this)}function xp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Oe(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function Cp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Oe(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function Ap(i,a,c,d){var g=E(i)?i:le(i),b=E(a)?a:le(a);return this.isValid()&&g.isValid()&&b.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(g,c):!this.isBefore(g,c))&&(d[1]===")"?this.isBefore(b,c):!this.isAfter(b,c))):!1}function Ep(i,a){var c=E(i)?i:le(i),d;return this.isValid()&&c.isValid()?(a=Oe(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function Sp(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function _p(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function Tp(i,a,c){var d,g,b;if(!this.isValid())return NaN;if(d=Cs(i,this),!d.isValid())return NaN;switch(g=(d.utcOffset()-this.utcOffset())*6e4,a=Oe(a),a){case"year":b=ci(this,d)/12;break;case"month":b=ci(this,d);break;case"quarter":b=ci(this,d)/3;break;case"second":b=(this-d)/1e3;break;case"minute":b=(this-d)/6e4;break;case"hour":b=(this-d)/36e5;break;case"day":b=(this-d-g)/864e5;break;case"week":b=(this-d-g)/6048e5;break;default:b=this-d}return c?b:Qe(b)}function ci(i,a){if(i.date()<a.date())return-ci(a,i);var c=(a.year()-i.year())*12+(a.month()-i.month()),d=i.clone().add(c,"months"),g,b;return a-d<0?(g=i.clone().add(c-1,"months"),b=(a-d)/(d-g)):(g=i.clone().add(c+1,"months"),b=(a-d)/(g-d)),-(c+b)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Fp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Pp(i){if(!this.isValid())return null;var a=i!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?Zt(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):se(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zt(c,"Z")):Zt(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Dp(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",c,d,g,b;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+i+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",g="-MM-DD[T]HH:mm:ss.SSS",b=a+'[")]',this.format(c+d+g+b)}function Mp(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=Zt(this,i);return this.localeData().postformat(a)}function Ip(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?ht({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Lp(i){return this.from(le(),i)}function Op(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?ht({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Rp(i){return this.to(le(),i)}function Ll(i){var a;return i===void 0?this._locale._abbr:(a=Nt(i),a!=null&&(this._locale=a),this)}var Ol=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Rl(){return this._locale}var di=1e3,Rn=60*di,fi=60*Rn,Nl=(365*400+97)*24*fi;function Nn(i,a){return(i%a+a)%a}function Wl(i,a,c){return i<100&&i>=0?new Date(i+400,a,c)-Nl:new Date(i,a,c).valueOf()}function Bl(i,a,c){return i<100&&i>=0?Date.UTC(i+400,a,c)-Nl:Date.UTC(i,a,c)}function Np(i){var a,c;if(i=Oe(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Bl:Wl,i){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Nn(a+(this._isUTC?0:this.utcOffset()*Rn),fi);break;case"minute":a=this._d.valueOf(),a-=Nn(a,Rn);break;case"second":a=this._d.valueOf(),a-=Nn(a,di);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Wp(i){var a,c;if(i=Oe(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Bl:Wl,i){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=fi-Nn(a+(this._isUTC?0:this.utcOffset()*Rn),fi)-1;break;case"minute":a=this._d.valueOf(),a+=Rn-Nn(a,Rn)-1;break;case"second":a=this._d.valueOf(),a+=di-Nn(a,di)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Bp(){return this._d.valueOf()-(this._offset||0)*6e4}function Yp(){return Math.floor(this.valueOf()/1e3)}function Vp(){return new Date(this.valueOf())}function zp(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function Up(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function Hp(){return this.isValid()?this.toISOString():null}function $p(){return S(this)}function jp(){return m({},x(this))}function Gp(){return x(this).overflow}function qp(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),O("N",Es),O("NN",Es),O("NNN",Es),O("NNNN",om),O("NNNNN",sm),ie(["N","NN","NNN","NNNN","NNNNN"],function(i,a,c,d){var g=c._locale.erasParse(i,d,c._strict);g?x(c).era=g:x(c).invalidEra=i}),O("y",Ze),O("yy",Ze),O("yyy",Ze),O("yyyy",Ze),O("yo",am),ie(["y","yy","yyy","yyyy"],Pe),ie(["yo"],function(i,a,c,d){var g;c._locale._eraYearOrdinalRegex&&(g=i.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[Pe]=c._locale.eraYearOrdinalParse(i,g):a[Pe]=parseInt(i,10)});function Kp(i,a){var c,d,g,b=this._eras||Nt("en")._eras;for(c=0,d=b.length;c<d;++c){switch(typeof b[c].since){case"string":g=e(b[c].since).startOf("day"),b[c].since=g.valueOf();break}switch(typeof b[c].until){case"undefined":b[c].until=1/0;break;case"string":g=e(b[c].until).startOf("day").valueOf(),b[c].until=g.valueOf();break}}return b}function Zp(i,a,c){var d,g,b=this.eras(),A,L,z;for(i=i.toUpperCase(),d=0,g=b.length;d<g;++d)if(A=b[d].name.toUpperCase(),L=b[d].abbr.toUpperCase(),z=b[d].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(L===i)return b[d];break;case"NNNN":if(A===i)return b[d];break;case"NNNNN":if(z===i)return b[d];break}else if([A,L,z].indexOf(i)>=0)return b[d]}function Qp(i,a){var c=i.since<=i.until?1:-1;return a===void 0?e(i.since).year():e(i.since).year()+(a-i.offset)*c}function Jp(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].name;return""}function Xp(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].narrow;return""}function em(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].abbr;return""}function tm(){var i,a,c,d,g=this.localeData().eras();for(i=0,a=g.length;i<a;++i)if(c=g[i].since<=g[i].until?1:-1,d=this.clone().startOf("day").valueOf(),g[i].since<=d&&d<=g[i].until||g[i].until<=d&&d<=g[i].since)return(this.year()-e(g[i].since).year())*c+g[i].offset;return this.year()}function nm(i){return s(this,"_erasNameRegex")||Ss.call(this),i?this._erasNameRegex:this._erasRegex}function rm(i){return s(this,"_erasAbbrRegex")||Ss.call(this),i?this._erasAbbrRegex:this._erasRegex}function im(i){return s(this,"_erasNarrowRegex")||Ss.call(this),i?this._erasNarrowRegex:this._erasRegex}function Es(i,a){return a.erasAbbrRegex(i)}function om(i,a){return a.erasNameRegex(i)}function sm(i,a){return a.erasNarrowRegex(i)}function am(i,a){return a._eraYearOrdinalRegex||Ze}function Ss(){var i=[],a=[],c=[],d=[],g,b,A,L,z,Z=this.eras();for(g=0,b=Z.length;g<b;++g)A=It(Z[g].name),L=It(Z[g].abbr),z=It(Z[g].narrow),a.push(A),i.push(L),c.push(z),d.push(A),d.push(L),d.push(z);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hi(i,a){k(0,[i,i.length],0,a)}hi("gggg","weekYear"),hi("ggggg","weekYear"),hi("GGGG","isoWeekYear"),hi("GGGGG","isoWeekYear"),O("G",kt),O("g",kt),O("GG",I,Re),O("gg",I,Re),O("GGGG",ut,_),O("gggg",ut,_),O("GGGGG",Ue,M),O("ggggg",Ue,M),gr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,c,d){a[d.substr(0,2)]=K(i)}),gr(["gg","GG"],function(i,a,c,d){a[d]=e.parseTwoDigitYear(i)});function lm(i){return Yl.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function um(i){return Yl.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function cm(){return Rt(this.year(),1,4)}function dm(){return Rt(this.isoWeekYear(),1,4)}function fm(){var i=this.localeData()._week;return Rt(this.year(),i.dow,i.doy)}function hm(){var i=this.localeData()._week;return Rt(this.weekYear(),i.dow,i.doy)}function Yl(i,a,c,d,g){var b;return i==null?br(this,d,g).year:(b=Rt(i,d,g),a>b&&(a=b),pm.call(this,i,a,c,d,g))}function pm(i,a,c,d,g){var b=wl(i,a,c,d,g),A=kr(b.year,0,b.dayOfYear);return this.year(A.getUTCFullYear()),this.month(A.getUTCMonth()),this.date(A.getUTCDate()),this}k("Q",0,"Qo","quarter"),O("Q",ti),ie("Q",function(i,a){a[Lt]=(K(i)-1)*3});function mm(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}k("D",["DD",2],"Do","date"),O("D",I,In),O("DD",I,Re),O("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],bt),ie("Do",function(i,a){a[bt]=K(i.match(I)[0])});var Vl=Ln("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),O("DDD",Fe),O("DDDD",ni),ie(["DDD","DDDD"],function(i,a,c){c._dayOfYear=K(i)});function gm(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}k("m",["mm",2],0,"minute"),O("m",I,cs),O("mm",I,Re),ie(["m","mm"],ft);var wm=Ln("Minutes",!1);k("s",["ss",2],0,"second"),O("s",I,cs),O("ss",I,Re),ie(["s","ss"],Ot);var ym=Ln("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),O("S",Fe,ti),O("SS",Fe,Re),O("SSS",Fe,ni);var Xt,zl;for(Xt="SSSS";Xt.length<=9;Xt+="S")O(Xt,Ze);function km(i,a){a[hn]=K(("0."+i)*1e3)}for(Xt="S";Xt.length<=9;Xt+="S")ie(Xt,km);zl=Ln("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function bm(){return this._isUTC?"UTC":""}function vm(){return this._isUTC?"Coordinated Universal Time":""}var D=Y.prototype;D.add=hp,D.calendar=bp,D.clone=vp,D.diff=Tp,D.endOf=Wp,D.format=Mp,D.from=Ip,D.fromNow=Lp,D.to=Op,D.toNow=Rp,D.get=Df,D.invalidAt=Gp,D.isAfter=xp,D.isBefore=Cp,D.isBetween=Ap,D.isSame=Ep,D.isSameOrAfter=Sp,D.isSameOrBefore=_p,D.isValid=$p,D.lang=Ol,D.locale=Ll,D.localeData=Rl,D.max=$h,D.min=Hh,D.parsingFlags=jp,D.set=Mf,D.startOf=Np,D.subtract=pp,D.toArray=zp,D.toObject=Up,D.toDate=Vp,D.toISOString=Pp,D.inspect=Dp,typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),D.toJSON=Hp,D.toString=Fp,D.unix=Yp,D.valueOf=Bp,D.creationData=qp,D.eraName=Jp,D.eraNarrow=Xp,D.eraAbbr=em,D.eraYear=tm,D.year=cl,D.isLeapYear=Pf,D.weekYear=lm,D.isoWeekYear=um,D.quarter=D.quarters=mm,D.month=ml,D.daysInMonth=Vf,D.week=D.weeks=Kf,D.isoWeek=D.isoWeeks=Zf,D.weeksInYear=fm,D.weeksInWeekYear=hm,D.isoWeeksInYear=cm,D.isoWeeksInISOWeekYear=dm,D.date=Vl,D.day=D.days=uh,D.weekday=ch,D.isoWeekday=dh,D.dayOfYear=gm,D.hour=D.hours=yh,D.minute=D.minutes=wm,D.second=D.seconds=ym,D.millisecond=D.milliseconds=zl,D.utcOffset=ep,D.utc=np,D.local=rp,D.parseZone=ip,D.hasAlignedHourOffset=op,D.isDST=sp,D.isLocal=lp,D.isUtcOffset=up,D.isUtc=Fl,D.isUTC=Fl,D.zoneAbbr=bm,D.zoneName=vm,D.dates=j("dates accessor is deprecated. Use date instead.",Vl),D.months=j("months accessor is deprecated. Use month instead",ml),D.years=j("years accessor is deprecated. Use year instead",cl),D.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",tp),D.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ap);function xm(i){return le(i*1e3)}function Cm(){return le.apply(null,arguments).parseZone()}function Ul(i){return i}var te=U.prototype;te.calendar=ce,te.longDateFormat=fn,te.invalidDate=Mt,te.ordinal=as,te.preparse=Ul,te.postformat=Ul,te.relativeTime=Jr,te.pastFuture=Xr,te.set=X,te.eras=Kp,te.erasParse=Zp,te.erasConvertYear=Qp,te.erasAbbrRegex=rm,te.erasNameRegex=nm,te.erasNarrowRegex=im,te.months=Nf,te.monthsShort=Wf,te.monthsParse=Yf,te.monthsRegex=Uf,te.monthsShortRegex=zf,te.week=$f,te.firstDayOfYear=qf,te.firstDayOfWeek=Gf,te.weekdays=ih,te.weekdaysMin=sh,te.weekdaysShort=oh,te.weekdaysParse=lh,te.weekdaysRegex=fh,te.weekdaysShortRegex=hh,te.weekdaysMinRegex=ph,te.isPM=gh,te.meridiem=kh;function pi(i,a,c,d){var g=Nt(),b=w().set(d,a);return g[c](b,i)}function Hl(i,a,c){if(f(i)&&(a=i,i=void 0),i=i||"",a!=null)return pi(i,a,c,"month");var d,g=[];for(d=0;d<12;d++)g[d]=pi(i,d,c,"month");return g}function _s(i,a,c,d){typeof i=="boolean"?(f(a)&&(c=a,a=void 0),a=a||""):(a=i,c=a,i=!1,f(a)&&(c=a,a=void 0),a=a||"");var g=Nt(),b=i?g._week.dow:0,A,L=[];if(c!=null)return pi(a,(c+b)%7,d,"day");for(A=0;A<7;A++)L[A]=pi(a,(A+b)%7,d,"day");return L}function Am(i,a){return Hl(i,a,"months")}function Em(i,a){return Hl(i,a,"monthsShort")}function Sm(i,a,c){return _s(i,a,c,"weekdays")}function _m(i,a,c){return _s(i,a,c,"weekdaysShort")}function Tm(i,a,c){return _s(i,a,c,"weekdaysMin")}Jt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,c=K(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+c}}),e.lang=j("moment.lang is deprecated. Use moment.locale instead.",Jt),e.langData=j("moment.langData is deprecated. Use moment.localeData instead.",Nt);var Wt=Math.abs;function Fm(){var i=this._data;return this._milliseconds=Wt(this._milliseconds),this._days=Wt(this._days),this._months=Wt(this._months),i.milliseconds=Wt(i.milliseconds),i.seconds=Wt(i.seconds),i.minutes=Wt(i.minutes),i.hours=Wt(i.hours),i.months=Wt(i.months),i.years=Wt(i.years),this}function $l(i,a,c,d){var g=ht(a,c);return i._milliseconds+=d*g._milliseconds,i._days+=d*g._days,i._months+=d*g._months,i._bubble()}function Pm(i,a){return $l(this,i,a,1)}function Dm(i,a){return $l(this,i,a,-1)}function jl(i){return i<0?Math.floor(i):Math.ceil(i)}function Mm(){var i=this._milliseconds,a=this._days,c=this._months,d=this._data,g,b,A,L,z;return i>=0&&a>=0&&c>=0||i<=0&&a<=0&&c<=0||(i+=jl(Ts(c)+a)*864e5,a=0,c=0),d.milliseconds=i%1e3,g=Qe(i/1e3),d.seconds=g%60,b=Qe(g/60),d.minutes=b%60,A=Qe(b/60),d.hours=A%24,a+=Qe(A/24),z=Qe(Gl(a)),c+=z,a-=jl(Ts(z)),L=Qe(c/12),c%=12,d.days=a,d.months=c,d.years=L,this}function Gl(i){return i*4800/146097}function Ts(i){return i*146097/4800}function Im(i){if(!this.isValid())return NaN;var a,c,d=this._milliseconds;if(i=Oe(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+d/864e5,c=this._months+Gl(a),i){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Ts(this._months)),i){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+i)}}function Bt(i){return function(){return this.as(i)}}var ql=Bt("ms"),Lm=Bt("s"),Om=Bt("m"),Rm=Bt("h"),Nm=Bt("d"),Wm=Bt("w"),Bm=Bt("M"),Ym=Bt("Q"),Vm=Bt("y"),zm=ql;function Um(){return ht(this)}function Hm(i){return i=Oe(i),this.isValid()?this[i+"s"]():NaN}function mn(i){return function(){return this.isValid()?this._data[i]:NaN}}var $m=mn("milliseconds"),jm=mn("seconds"),Gm=mn("minutes"),qm=mn("hours"),Km=mn("days"),Zm=mn("months"),Qm=mn("years");function Jm(){return Qe(this.days()/7)}var Yt=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Xm(i,a,c,d,g){return g.relativeTime(a||1,!!c,i,d)}function eg(i,a,c,d){var g=ht(i).abs(),b=Yt(g.as("s")),A=Yt(g.as("m")),L=Yt(g.as("h")),z=Yt(g.as("d")),Z=Yt(g.as("M")),We=Yt(g.as("w")),Vt=Yt(g.as("y")),en=b<=c.ss&&["s",b]||b<c.s&&["ss",b]||A<=1&&["m"]||A<c.m&&["mm",A]||L<=1&&["h"]||L<c.h&&["hh",L]||z<=1&&["d"]||z<c.d&&["dd",z];return c.w!=null&&(en=en||We<=1&&["w"]||We<c.w&&["ww",We]),en=en||Z<=1&&["M"]||Z<c.M&&["MM",Z]||Vt<=1&&["y"]||["yy",Vt],en[2]=a,en[3]=+i>0,en[4]=d,Xm.apply(null,en)}function tg(i){return i===void 0?Yt:typeof i=="function"?(Yt=i,!0):!1}function ng(i,a){return Wn[i]===void 0?!1:a===void 0?Wn[i]:(Wn[i]=a,i==="s"&&(Wn.ss=a-1),!0)}function rg(i,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Wn,g,b;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(c=i),typeof a=="object"&&(d=Object.assign({},Wn,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),g=this.localeData(),b=eg(this,!c,d,g),c&&(b=g.pastFuture(+this,b)),g.postformat(b)}var Fs=Math.abs;function Bn(i){return(i>0)-(i<0)||+i}function mi(){if(!this.isValid())return this.localeData().invalidDate();var i=Fs(this._milliseconds)/1e3,a=Fs(this._days),c=Fs(this._months),d,g,b,A,L=this.asSeconds(),z,Z,We,Vt;return L?(d=Qe(i/60),g=Qe(d/60),i%=60,d%=60,b=Qe(c/12),c%=12,A=i?i.toFixed(3).replace(/\.?0+$/,""):"",z=L<0?"-":"",Z=Bn(this._months)!==Bn(L)?"-":"",We=Bn(this._days)!==Bn(L)?"-":"",Vt=Bn(this._milliseconds)!==Bn(L)?"-":"",z+"P"+(b?Z+b+"Y":"")+(c?Z+c+"M":"")+(a?We+a+"D":"")+(g||d||i?"T":"")+(g?Vt+g+"H":"")+(d?Vt+d+"M":"")+(i?Vt+A+"S":"")):"P0D"}var J=li.prototype;J.isValid=Zh,J.abs=Fm,J.add=Pm,J.subtract=Dm,J.as=Im,J.asMilliseconds=ql,J.asSeconds=Lm,J.asMinutes=Om,J.asHours=Rm,J.asDays=Nm,J.asWeeks=Wm,J.asMonths=Bm,J.asQuarters=Ym,J.asYears=Vm,J.valueOf=zm,J._bubble=Mm,J.clone=Um,J.get=Hm,J.milliseconds=$m,J.seconds=jm,J.minutes=Gm,J.hours=qm,J.days=Km,J.weeks=Jm,J.months=Zm,J.years=Qm,J.humanize=rg,J.toISOString=mi,J.toString=mi,J.toJSON=mi,J.locale=Ll,J.localeData=Rl,J.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mi),J.lang=Ol,k("X",0,0,"unix"),k("x",0,0,"valueOf"),O("x",kt),O("X",dt),ie("X",function(i,a,c){c._d=new Date(parseFloat(i)*1e3)}),ie("x",function(i,a,c){c._d=new Date(K(i))});return e.version="2.30.1",n(le),e.fn=D,e.min=jh,e.max=Gh,e.now=qh,e.utc=w,e.unix=xm,e.months=Am,e.isDate=h,e.locale=Jt,e.invalid=C,e.duration=ht,e.isMoment=E,e.weekdays=Sm,e.parseZone=Cm,e.localeData=Nt,e.isDuration=ui,e.monthsShort=Em,e.weekdaysMin=Tm,e.defineLocale=gs,e.updateLocale=Ch,e.locales=Ah,e.weekdaysShort=_m,e.normalizeUnits=Oe,e.relativeTimeRounding=tg,e.relativeTimeThreshold=ng,e.calendarFormat=kp,e.prototype=D,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var uk={};Kl(uk,{default:()=>lk});module.exports=ug(uk);var be=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function mt(){}async function gt(){}function Ar(t){return async(...e)=>{await t(...e)}}var Et=require("obsidian");var cg=require("obsidian"),Jl=require("obsidian"),Xl=require("obsidian"),pk=require("obsidian"),mk=require("obsidian");var zt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Ql={AllProperties:"all-properties",Audio:"audio",Backlink:zt.Backlink,Bookmarks:zt.Bookmarks,Canvas:zt.Canvas,Empty:"empty",FileExplorer:zt.FileExplorer,FileProperties:"file-properties",Graph:zt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:zt.OutgoingLink,Outline:zt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function dg(){return Jl.TFile}function fg(){return Xl.TFolder}function wt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function wi(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(fg())(t.vault,e),n.parent=wi(t,wt(e)),n.deleted=!0,n)}function eu(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(dg())(t.vault,e),n.parent=wi(t,wt(e)),n.deleted=!0,n)}function vt(t){return!!t.position}function Xe(t){return!!t.key}var Os=Je(ru(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ps(t,e){let n=0;for(let r=0;r<t.length;r++){if(!(r in t))continue;let o=t[r];e(o,r,t)&&(t[n++]=o)}t.length=n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ct=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Ps(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Ps(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return o.push(s),s}once(e,n,r){let o=this.on(e,n,r),s=this.on(e,()=>{this.offref(o),this.offref(s)});return o}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ms="asyncError",Ds=`Error stack:
`,ki="An unhandled error occurred executing async operation",yi=new Ct;yi.on(Ms,pg);function bi(t){yi.trigger(Ms,t)}function iu(t){return Is(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(Ds)?e.message.slice(Ds.length):e.message)).join(`
`)}function gn(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Er(t,e){e??=globalThis.console;let n=Is(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function ou(t){let e=yi.on(Ms,t);return()=>{yi.offref(e)}}function wn(t){throw t}function pg(t){Er(t)}function Is(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let o;return t===null?o="(null)":typeof t=="string"?o=t:o=JSON.stringify(t)??"undefined",n.push({level:e,message:o}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let o=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${Ds}${o}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),Is(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ls(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function su(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Vn(t,...e){return mg(t)?await t(...e):t}function mg(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var gg={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},wg={};for(let[t,e]of Object.entries(gg))wg[e]=t;function au(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function Sr(t){return He(t,/\u00A0|\u202F/g," ").normalize("NFC")}function He(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...o)=>{let l=typeof o.at(-1)=="object",u=l?o.length-2:o.length-1,f={groups:l?o.at(-1):void 0,offset:o.at(u-1),source:o.at(u),substring:r},h=o.slice(0,u-1);return n(f,...h)??f.substring}))}function lu(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function Ut(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yg=/[a-zA-Z]:\/[^:]*$/,At=Os.default.posix,Dk=At.delimiter,Mk=Os.default.posix.sep,Be=At.basename,ae=At.dirname,et=At.extname,Ik=At.format;var ye=At.join,Lk=At.normalize,Ok=At.parse,zn=At.relative;function uu(t,e){return e?`${t}.${e}`:t}function cu(...t){let e=At.resolve(...t);return e=kg(e),yg.exec(e)?.[0]??e}function kg(t){return He(t,"\\","/")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var vi="md",bg="canvas";function fu(t,e,n){if(tt(e))return e.extension===n;if(typeof e=="string"){let r=de(t,e);return r?r.extension===n:et(e).slice(1)===n}return!1}function _r(t,e,n){if(e===null)return null;if(mu(e))return e;let r=du(t,e,n);if(r)return r;let o=wu(e);return o===e?null:du(t,o,n)}function De(t,e,n,r){let o=de(t,e,r);if(!o)if(n)o=eu(t,e);else throw new Error(`File not found: ${e}`);return o}function de(t,e,n){let r=_r(t,e,n);return tt(r)?r:null}function Un(t,e,n,r){let o=yt(t,e,r);if(!o)if(n)o=wi(t,e);else throw new Error(`Folder not found: ${e}`);return o}function yt(t,e,n){let r=_r(t,e,n);return Tr(r)?r:null}function hu(t,e,n){let r=Un(t,e),o=[];return n?Et.Vault.recurseChildren(r,s=>{ke(t,s)&&o.push(s)}):o=r.children.filter(s=>ke(t,s)),o=o.sort((s,l)=>s.path.localeCompare(l.path)),o}async function pu(t,e){let n=de(t,e);if(n)return n;let r=wt(e);return await vg(t,r),await t.vault.create(e,"")}async function vg(t,e){let n=yt(t,e);return n||await t.vault.createFolder(e)}function fe(t,e){if(mu(e))return e.path;let n=_r(t,e);return n?n.path:wu(e)}function mu(t){return t instanceof Et.TAbstractFile}function yn(t,e){return fu(t,e,bg)}function tt(t){return t instanceof Et.TFile}function Tr(t){return t instanceof Et.TFolder}function ke(t,e){return fu(t,e,vi)}function Fr(t,e){return ke(t,e)||yn(t,e)}function gu(t,e){return ke(t,e)?lu(e.path,`.${vi}`):e.path}function du(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function wu(t){return(0,Et.normalizePath)(cu("/",t))}var Vu=require("obsidian");var Us=Je(Fu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ys="27.0.0",Si="obsidian-dev-utils",Pu=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACnCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Vs=class{constructor(e){this.value=e}};function Hg(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??wn(new Error("Obsidian app not found"))}}function Ht(t,e,n){let o=t??$g()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new Vs(n)}function $g(){return typeof window>"u"?null:Hg()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var zs="__no-plugin-id-initialized__",Du=zs;function _i(){return Du}function Mu(t){t&&(Du=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Iu=",",Ti="-";function Lu(){return{disable:jg,enable:Gg,get:Pi,set:Pr}}function Fi(t,e=0){let n=`${t}:${e.toString()}`,r=Ht(null,"debuggers",new Map).value,o=r.get(n);return o||(o=Gn()(t),o.log=(s,...l)=>{qg(t,e,s,...l)},o.printStackTrace=(s,l)=>{Nu(t,s,l)},r.set(n,o)),o}function rt(t){let e=_i(),n=e===zs?"":`${e}:`;return Fi(`${n}${Si}:${t}`)}function Ou(t){let e=Gn().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",o=Pi();Pr(t),Fi(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Pr(o)}function jg(t){let e=new Set(Pi());for(let n of Dr(t)){if(n.startsWith(Ti))continue;let r=Ti+n;e.has(n)&&e.delete(n),e.add(r)}Pr(Array.from(e))}function Gg(t){let e=new Set(Pi());for(let n of Dr(t)){if(!n.startsWith(Ti)){let r=Ti+n;e.has(r)&&e.delete(r)}e.add(n)}Pr(Array.from(e))}function Pi(){return Dr(Gn().load()??"")}function Gn(){return typeof window>"u"?Us.default:Ht(null,"debug",Us.default).value}function Ru(){return typeof window<"u"}function qg(t,e,n,...r){if(!Gn().enabled(t))return;let l=(new Error().stack?.split(`
`)??[])[4+e]??"";console.debug(n,...r),Ru()&&Nu(t,l,"Debug message caller")}function Nu(t,e,n){let r=Gn()(t);if(!r.enabled)return;e||(e="(unavailable)"),(n??"")||(n="Caller stack trace"),r(n);let o=Ru()?`StackTraceFakeError
`:"";console.debug(`${o}${e}`)}function Pr(t){Gn().enable(Dr(t).join(Iu))}function Dr(t){return typeof t=="string"?t.split(Iu).filter(Boolean):t.flatMap(Dr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Hs(t){let e=new Error(ki);try{await t()}catch(n){e.cause=n,bi(e)}}function bn(t){return(...e)=>{St(()=>t(...e))}}function St(t){Hs(t)}function Wu(t,e=0){setTimeout(bn(async()=>await t()),e)}async function Bu(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function Di(t,e,n){let r=rt("Async:retryWithTimeout");n??=gn(1);let s={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};await $s(s.timeoutInMilliseconds,async()=>{let l=0;for(;;){s.abortSignal?.throwIfAborted(),l++;let u;try{u=await t()}catch(f){if(!s.shouldRetryOnError||f.__terminateRetry)throw f;Er(f),u=!1}if(u){l>1&&(r(`Retry completed successfully after ${l.toString()} attempts`),r.printStackTrace(n));return}r(`Retry attempt ${l.toString()} completed unsuccessfully. Trying again in ${s.retryDelayInMilliseconds.toString()} milliseconds`,{fn:t}),r.printStackTrace(n),await Yu(s.retryDelayInMilliseconds)}},{retryFn:t})}async function $s(t,e,n){let r=!0,o=null,s=performance.now();if(await Promise.race([l(),u()]),r)throw new Error("Timed out");return o;async function l(){try{o=await e();let f=performance.now()-s;rt("Async:runWithTimeout")(`Execution time: ${f.toString()} milliseconds`,{context:n,fn:e})}finally{r=!1}}async function u(){if(!r||(await Yu(t),!r))return;let f=performance.now()-s;console.warn(`Timed out in ${f.toString()} milliseconds`,{context:n,fn:e});let h=rt("Async:runWithTimeout:timeout");h.enabled&&(h(`The execution is not terminated because debugger ${h.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information`),await u())}}async function Yu(t){await new Promise(e=>{setTimeout(e,t)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function vn(t){let n={...{abortSignal:AbortSignal.any([]),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:mt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=n.items,o=0,s=new Vu.Notice("",0),l=sleep(n.noticeMinTimeoutInMilliseconds),u=createEl("progress");if(u.max=r.length,n.shouldShowProgressBar){let h=createFragment();n.progressBarTitle&&h.appendText(n.progressBarTitle),h.appendChild(u),s.setMessage(h)}let f=performance.now();for(let h of r){if(n.abortSignal.aborted){s.hide();return}o++;let p=`# ${o.toString()} / ${r.length.toString()}`,m=n.buildNoticeMessage(h,p);n.shouldShowProgressBar||s.setMessage(m),rt("Loop")(m);let w=new Error(ki);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await Bu(),f=performance.now()),await n.processItem(h)}catch(y){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw s.hide(),y;w.cause=y,bi(w)}u.value++}await l,s.hide()}var Ku=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});var Gu=require("obsidian");var $u=Je(Uu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Hu=`${Si}-styles`;function oe(t,...e){t.addClass(W.LibraryName,_i(),...e)}function ju(t,e){Mu(e),Ou(e);let n=Ht(t,"lastLibraryVersion","0.0.0");if((0,$u.compareVersions)(Ys,n.value)<=0)return;n.value=Ys;let r=Kg();r.DEBUG=Lu(),document.head.querySelector(`#${Hu}`)?.remove(),document.head.createEl("style",{attr:{id:Hu},text:Pu})}function Kg(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ii=class extends Gu.Modal{constructor(e,n,r){super(e.app),this.resolve=n,oe(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function qu(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var js=class extends Ii{options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Ku.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Li(t){await qu(e=>new js(t,e))}var Wi=require("obsidian");var Zu=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Oi=class extends Zu.Component{registerAsyncEvent(e){Ri(this,e)}};function Ri(t,e){t.register(()=>{e.asyncEvents.offref(e)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ni=class extends Wi.Plugin{events=new Ct;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Fi(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Wu(this.afterLoad.bind(this))}onunload(){super.onunload(),St(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await gt()}async onloadImpl(){ju(this.app,this.manifest.id),this.register(ou(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Ri(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Ri(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort()})}async onLoadSettings(e,n){await gt()}async onSaveSettings(e,n,r){await gt()}async onunloadImpl(){await gt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Wi.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(bn(this.onLayoutReadyBase.bind(this)))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Qu(t,e,n){let r=rt("Logger:invokeAsyncAndLog"),o=performance.now();n??=gn(1),r(`${t}:start`,{fn:e,timestampStart:o}),r.printStackTrace(n);try{await e();let s=performance.now();r(`${t}:end`,{duration:s-o,fn:e,timestampEnd:s,timestampStart:o}),r.printStackTrace(n)}catch(s){let l=performance.now();throw r(`${t}:error`,{duration:l-o,error:s,fn:e,timestampEnd:l,timestampStart:o}),r.printStackTrace(n),s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function it(t,e,n,r){r??=gn(1),St(()=>Zg(t,e,n,r))}async function Zg(t,e,n,r){n??=6e4,r??=gn(1);let s=Ju(t).value;s.items.push({fn:e,stackTrace:r,timeoutInMilliseconds:n}),s.promise=s.promise.then(()=>Xu(t)),await s.promise}function Ju(t){return Ht(t,"queue",{items:[],promise:Promise.resolve()})}async function Xu(t){let e=Ju(t).value,n=e.items[0];n&&(await Hs(()=>$s(n.timeoutInMilliseconds,()=>Qu(Xu.name,n.fn,n.stackTrace),{queuedFn:n.fn})),e.items.shift())}var Jd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ec=".",Qg=[{constructor:ArrayBuffer,equalityComparer:Xg},{constructor:Date,equalityComparer:e0},{constructor:RegExp,equalityComparer:n0},{constructor:Map,equalityComparer:t0},{constructor:Set,equalityComparer:r0}];function ot(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let f=i0(t,e);if(f!==void 0)return f}let o=qn(t),s=qn(e);if(o.length!==s.length)return!1;let l=t,u=e;for(let f of o)if(!s.includes(f)||!ot(l[f],u[f]))return!1;return!0}function qn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let l=typeof s.get=="function",u=typeof s.set=="function";if(l||u){l&&u&&e.push(o);continue}s.enumerable&&s.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}function Bi(t,e){let n=t,r=e.split(ec);for(let o of r){if(n===void 0)return;n=n[o]}return n}function tc(t,e,n){let r=new Error(`Property path ${e} not found`),o=t,s=e.split(ec);for(let u of s.slice(0,-1)){if(o===void 0)throw r;o=o[u]}let l=s.at(-1);if(o===void 0||l===void 0)throw r;o[l]=n}function Yi(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Gs("CircularReference"),maxDepthLimitReached:Gs("MaxDepthLimitReached"),toJSONFailed:Gs("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let o=[],l=Vi(t,"",0,!0,r,o,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=He(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,h,p)=>Jg({functionTexts:o,index:p?parseInt(p,10):0,key:h,substitutions:r.tokenSubstitutions})),u}function Jg(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??wn(new Error(`Function with index ${t.index.toString()} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${t.index.toString()})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function Xg(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return ot(n,r)}function e0(t,e){return t.getTime()===e.getTime()}function t0(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!ot(r,e.get(n)))return!1;return!0}function n0(t,e){return t.source===e.source&&t.flags===e.flags}function r0(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let o of e)if(ot(n,o)){r=!0;break}if(!r)return!1}return!0}function i0(t,e){for(let{constructor:n,equalityComparer:r}of Qg)if(t instanceof n&&e instanceof n)return r(t,e)}function o0(t,e,n,r,o,s){return e>r.maxDepth?Kn("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Vi(l,u.toString(),e+1,n,r,o,s))}function s0(t,e,n){if(n.shouldHandleCircularReferences)return Kn("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function a0(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,o=n.functionHandlingMode==="full"?t.toString():`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),Kn("Function",r)}function l0(t,e,n,r,o,s,l){if(l.has(t))return s0(t,e,o);if(l.add(t),r){let u=c0(t,e,n,o,s,l);if(u!==void 0)return u}return Array.isArray(t)?o0(t,n,r,o,s,l):n>o.maxDepth?Kn("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?iu(t):u0(t,n,r,o,s,l)}function u0(t,e,n,r,o,s){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[f])=>u.localeCompare(f)),Object.fromEntries(l.map(([u,f])=>[u,Vi(f,u,e+1,n,r,o,s)]))}function Gs(t){return`{ "[[${t}]]": null }`}function Kn(t,e){return`[[${t}${e?.toString()??""}]]`}function Vi(t,e,n,r,o,s,l){return t===void 0?n===0||o.shouldHandleUndefined?Kn("Undefined"):void 0:typeof t=="function"?a0(t,s,o):typeof t!="object"||t===null?t:l0(t,e,n,r,o,s,l)}function c0(t,e,n,r,o,s){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Vi(u,e,n,!1,r,o,s)}catch(u){if(r.shouldCatchToJSONErrors)return Kn("ToJSONFailed");throw u}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function qs(t,e,n){let r=fe(t,e),o=fe(t,n),s=De(t,o,!0),l=et(r),u=Be(r,l),f=t.vault.getAvailablePathForAttachments;return f.isExtended?f(u,l.slice(1),s,!0):await d0(t,u,l.slice(1),s,!0)}async function Zn(t,e){return wt(await qs(t,"DUMMY_FILE.pdf",e))}async function d0(t,e,n,r,o){let s=t.vault.getConfig("attachmentFolderPath"),l=s==="."||s==="./",u=null;s.startsWith("./")&&(u=Ut(s,"./")),l?s=r?r.parent?.path??"":"":u&&(s=(r?r.parent?.getParentPrefix()??"":"")+u),s=Sr(nc(s)),e=Sr(nc(e));let f=yt(t,s,!0);!f&&u&&(o?f=Un(t,s,!0):f=await t.vault.createFolder(s));let h=f?.getParentPrefix()??"";return t.vault.getAvailablePath(h+e,n)}async function Ks(t,e){let n=await Zn(t,e),r=await Zn(t,ye(ae(e),"DUMMY_FILE.md"));return n!==r}function nc(t){return t=He(t,/(?:[\\/])+/g,"/"),t=He(t,/^\/+|\/+$/g,""),t||"/"}var go=require("obsidian");var f0={};function xn(t,e){let n=e||f0,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ic(t,r,o)}function ic(t,e,n){if(h0(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return rc(t.children,e,n)}return Array.isArray(t)?rc(t,e,n):""}function rc(t,e,n){let r=[],o=-1;for(;++o<t.length;)r[o]=ic(t[o],e,n);return r.join("")}function h0(t){return!!(t&&typeof t=="object")}var oc=document.createElement("i");function Qn(t){let e="&"+t+";";oc.innerHTML=e;let n=oc.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ee(t,e,n,r){let o=t.length,s=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(e,0),t.splice(...l),s+=1e4,e+=1e4}function Ye(t,e){return t.length>0?(Ee(t,t.length,0,e),t):e}var sc={}.hasOwnProperty;function ac(t){let e={},n=-1;for(;++n<t.length;)p0(e,t[n]);return e}function p0(t,e){let n;for(n in e){let o=(sc.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],l;if(s)for(l in s){sc.call(o,l)||(o[l]=[]);let u=s[l];m0(o[l],Array.isArray(u)?u:u?[u]:[])}}}function m0(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ee(t,0,0,r)}function zi(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function $t(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var qe=nn(/[A-Za-z]/),Ve=nn(/[\dA-Za-z]/),lc=nn(/[#-'*+\--9=?A-Z^-~]/);function Mr(t){return t!==null&&(t<32||t===127)}var Ir=nn(/\d/),uc=nn(/[\dA-Fa-f]/),cc=nn(/[!-/:-@[-`{-~]/);function R(t){return t!==null&&t<-2}function me(t){return t!==null&&(t<0||t===32)}function H(t){return t===-2||t===-1||t===32}var dc=nn(/\p{P}|\p{S}/u),fc=nn(/\s/);function nn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $(t,e,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return l;function l(f){return H(f)?(t.enter(n),u(f)):e(f)}function u(f){return H(f)&&s++<o?(t.consume(f),u):(t.exit(n),e(f))}}var hc={tokenize:g0};function g0(t){let e=t.attempt(this.parser.constructs.contentInitial,r,o),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),$(t,e,"linePrefix")}function o(u){return t.enter("paragraph"),s(u)}function s(u){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return R(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),l)}}var mc={tokenize:w0},pc={tokenize:y0};function w0(t){let e=this,n=[],r=0,o,s,l;return u;function u(F){if(r<n.length){let B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,f,h)(F)}return h(F)}function f(F){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&T();let B=e.events.length,Y=B,E;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){E=e.events[Y][1].end;break}C(r);let Q=B;for(;Q<e.events.length;)e.events[Q][1].end={...E},Q++;return Ee(e.events,Y+1,0,e.events.slice(B)),e.events.length=Q,h(F)}return u(F)}function h(F){if(r===n.length){if(!o)return w(F);if(o.currentConstruct&&o.currentConstruct.concrete)return x(F);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(pc,p,m)(F)}function p(F){return o&&T(),C(r),w(F)}function m(F){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,x(F)}function w(F){return e.containerState={},t.attempt(pc,y,x)(F)}function y(F){return r++,n.push([e.currentConstruct,e.containerState]),w(F)}function x(F){if(F===null){o&&T(),C(0),t.consume(F);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),P(F)}function P(F){if(F===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(F);return}return R(F)?(t.consume(F),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(F),P)}function S(F,B){let Y=e.sliceStream(F);if(B&&Y.push(null),F.previous=s,s&&(s.next=F),s=F,o.defineSkip(F.start),o.write(Y),e.parser.lazy[F.start.line]){let E=o.events.length;for(;E--;)if(o.events[E][1].start.offset<l&&(!o.events[E][1].end||o.events[E][1].end.offset>l))return;let Q=e.events.length,j=Q,G,ne;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(G){ne=e.events[j][1].end;break}G=!0}for(C(r),E=Q;E<e.events.length;)e.events[E][1].end={...ne},E++;Ee(e.events,j+1,0,e.events.slice(Q)),e.events.length=E}}function C(F){let B=n.length;for(;B-- >F;){let Y=n[B];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=F}function T(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}function y0(t,e,n){return $(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Jn(t){if(t===null||me(t)||fc(t))return 1;if(dc(t))return 2}function Xn(t,e,n){let r=[],o=-1;for(;++o<t.length;){let s=t[o].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var Lr={name:"attention",resolveAll:k0,tokenize:b0};function k0(t,e){let n=-1,r,o,s,l,u,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},w={...t[n][1].start};gc(m,-f),gc(w,f),l={type:f>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},s={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Ye(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Ye(h,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",s,e]]),h=Ye(h,Xn(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Ye(h,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=Ye(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,Ee(t,r-1,n-r+3,h),n=r+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function b0(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Jn(r),s;return l;function l(f){return s=f,t.enter("attentionSequence"),u(f)}function u(f){if(f===s)return t.consume(f),u;let h=t.exit("attentionSequence"),p=Jn(f),m=!p||p===2&&o||n.includes(f),w=!o||o===2&&p||n.includes(r);return h._open=!!(s===42?m:m&&(o||!w)),h._close=!!(s===42?w:w&&(p||!m)),e(f)}}function gc(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var Zs={name:"autolink",tokenize:v0};function v0(t,e,n){let r=0;return o;function o(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(y){return qe(y)?(t.consume(y),l):y===64?n(y):h(y)}function l(y){return y===43||y===45||y===46||Ve(y)?(r=1,u(y)):h(y)}function u(y){return y===58?(t.consume(y),r=0,f):(y===43||y===45||y===46||Ve(y))&&r++<32?(t.consume(y),u):(r=0,h(y))}function f(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Mr(y)?n(y):(t.consume(y),f)}function h(y){return y===64?(t.consume(y),p):lc(y)?(t.consume(y),h):n(y)}function p(y){return Ve(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,p):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):w(y)}function w(y){if((y===45||Ve(y))&&r++<63){let x=y===45?w:m;return t.consume(y),x}return n(y)}}var rn={partial:!0,tokenize:x0};function x0(t,e,n){return r;function r(s){return H(s)?$(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||R(s)?e(s):n(s)}}var Ui={continuation:{tokenize:A0},exit:E0,name:"blockQuote",tokenize:C0};function C0(t,e,n){let r=this;return o;function o(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),s}return n(l)}function s(l){return H(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function A0(t,e,n){let r=this;return o;function o(l){return H(l)?$(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return t.attempt(Ui,e,n)(l)}}function E0(t){t.exit("blockQuote")}var Hi={name:"characterEscape",tokenize:S0};function S0(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return cc(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}var $i={name:"characterReference",tokenize:_0};function _0(t,e,n){let r=this,o=0,s,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),f}function f(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),s=31,l=Ve,p(m))}function h(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,l=uc,p):(t.enter("characterReferenceValue"),s=7,l=Ir,p(m))}function p(m){if(m===59&&o){let w=t.exit("characterReferenceValue");return l===Ve&&!Qn(r.sliceSerialize(w))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&o++<s?(t.consume(m),p):n(m)}}var wc={partial:!0,tokenize:F0},ji={concrete:!0,name:"codeFenced",tokenize:T0};function T0(t,e,n){let r=this,o={partial:!0,tokenize:Y},s=0,l=0,u;return f;function f(E){return h(E)}function h(E){let Q=r.events[r.events.length-1];return s=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===u?(l++,t.consume(E),p):l<3?n(E):(t.exit("codeFencedFenceSequence"),H(E)?$(t,m,"whitespace")(E):m(E))}function m(E){return E===null||R(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(wc,P,B)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(E)):H(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$(t,y,"whitespace")(E)):E===96&&E===u?n(E):(t.consume(E),w)}function y(E){return E===null||R(E)?m(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(E)):E===96&&E===u?n(E):(t.consume(E),x)}function P(E){return t.attempt(o,B,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),C}function C(E){return s>0&&H(E)?$(t,T,"linePrefix",s+1)(E):T(E)}function T(E){return E===null||R(E)?t.check(wc,P,B)(E):(t.enter("codeFlowValue"),F(E))}function F(E){return E===null||R(E)?(t.exit("codeFlowValue"),T(E)):(t.consume(E),F)}function B(E){return t.exit("codeFenced"),e(E)}function Y(E,Q,j){let G=0;return ne;function ne(V){return E.enter("lineEnding"),E.consume(V),E.exit("lineEnding"),se}function se(V){return E.enter("codeFencedFence"),H(V)?$(E,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):X(V)}function X(V){return V===u?(E.enter("codeFencedFenceSequence"),N(V)):j(V)}function N(V){return V===u?(G++,E.consume(V),N):G>=l?(E.exit("codeFencedFenceSequence"),H(V)?$(E,U,"whitespace")(V):U(V)):j(V)}function U(V){return V===null||R(V)?(E.exit("codeFencedFence"),Q(V)):j(V)}}}function F0(t,e,n){let r=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var Or={name:"codeIndented",tokenize:D0},P0={partial:!0,tokenize:M0};function D0(t,e,n){let r=this;return o;function o(h){return t.enter("codeIndented"),$(t,s,"linePrefix",5)(h)}function s(h){let p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?f(h):R(h)?t.attempt(P0,l,f)(h):(t.enter("codeFlowValue"),u(h))}function u(h){return h===null||R(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),u)}function f(h){return t.exit("codeIndented"),e(h)}}function M0(t,e,n){let r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):$(t,s,"linePrefix",5)(l)}function s(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):R(l)?o(l):n(l)}}var Qs={name:"codeText",previous:L0,resolve:I0,tokenize:O0};function I0(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}function L0(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function O0(t,e,n){let r=this,o=0,s,l;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),f(w)}function f(w){return w===96?(t.consume(w),o++,f):(t.exit("codeTextSequence"),h(w))}function h(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),h):w===96?(l=t.enter("codeTextSequence"),s=0,m(w)):R(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),h):(t.enter("codeTextData"),p(w))}function p(w){return w===null||w===32||w===96||R(w)?(t.exit("codeTextData"),h(w)):(t.consume(w),p)}function m(w){return w===96?(t.consume(w),s++,m):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(l.type="codeTextData",p(w))}}var Gi=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let o=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Rr(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Rr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Rr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Rr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Rr(this.left,n.reverse())}}};function Rr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function qi(t){let e={},n=-1,r,o,s,l,u,f,h,p=new Gi(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,R0(p,n)),n=e[n],h=!0);else if(r[1]._container){for(s=n,o=void 0;s--&&(l=p.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);o&&(r[1].end={...p.get(o)[1].start},u=p.slice(o,n),u.unshift(r),p.splice(o,n-o+1,u))}}return Ee(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function R0(t,e){let n=t.get(e)[1],r=t.get(e)[2],o=e-1,s=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,f=[],h={},p,m,w=-1,y=n,x=0,P=0,S=[P];for(;y;){for(;t.get(++o)[1]!==y;);s.push(o),y._tokenizer||(p=r.sliceStream(y),y.next||p.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(P=w+1,S.push(P),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),w=S.length;w--;){let C=u.slice(S[w],S[w+1]),T=s.pop();f.push([T,T+C.length-1]),t.splice(T,2,C)}for(f.reverse(),w=-1;++w<f.length;)h[x+f[w][0]]=x+f[w][1],x+=f[w][1]-f[w][0]-1;return h}var Js={resolve:W0,tokenize:B0},N0={partial:!0,tokenize:Y0};function W0(t){return qi(t),t}function B0(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):R(u)?t.check(N0,l,s)(u):(t.consume(u),o)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function Y0(t,e,n){let r=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),$(t,s,"linePrefix")}function s(l){if(l===null||R(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function Ki(t,e,n,r,o,s,l,u,f){let h=f||Number.POSITIVE_INFINITY,p=0;return m;function m(C){return C===60?(t.enter(r),t.enter(o),t.enter(s),t.consume(C),t.exit(s),w):C===null||C===32||C===41||Mr(C)?n(C):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),P(C))}function w(C){return C===62?(t.enter(s),t.consume(C),t.exit(s),t.exit(o),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(u),w(C)):C===null||C===60||R(C)?n(C):(t.consume(C),C===92?x:y)}function x(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function P(C){return!p&&(C===null||C===41||me(C))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(C)):p<h&&C===40?(t.consume(C),p++,P):C===41?(t.consume(C),p--,P):C===null||C===32||C===40||Mr(C)?n(C):(t.consume(C),C===92?S:P)}function S(C){return C===40||C===41||C===92?(t.consume(C),P):P(C)}}function Zi(t,e,n,r,o,s){let l=this,u=0,f;return h;function h(y){return t.enter(r),t.enter(o),t.consume(y),t.exit(o),t.enter(s),p}function p(y){return u>999||y===null||y===91||y===93&&!f||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(s),t.enter(o),t.consume(y),t.exit(o),t.exit(r),e):R(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||R(y)||u++>999?(t.exit("chunkString"),p(y)):(t.consume(y),f||(f=!H(y)),y===92?w:m)}function w(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function Qi(t,e,n,r,o,s){let l;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(o),t.consume(w),t.exit(o),l=w===40?41:w,f):n(w)}function f(w){return w===l?(t.enter(o),t.consume(w),t.exit(o),t.exit(r),e):(t.enter(s),h(w))}function h(w){return w===l?(t.exit(s),f(l)):w===null?n(w):R(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),$(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===l||w===null||R(w)?(t.exit("chunkString"),h(w)):(t.consume(w),w===92?m:p)}function m(w){return w===l||w===92?(t.consume(w),p):p(w)}}function Cn(t,e){let n;return r;function r(o){return R(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):H(o)?$(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}var Xs={name:"definition",tokenize:z0},V0={partial:!0,tokenize:U0};function z0(t,e,n){let r=this,o;return s;function s(y){return t.enter("definition"),l(y)}function l(y){return Zi.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=$t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),f):n(y)}function f(y){return me(y)?Cn(t,h)(y):h(y)}function h(y){return Ki(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function p(y){return t.attempt(V0,m,m)(y)}function m(y){return H(y)?$(t,w,"whitespace")(y):w(y)}function w(y){return y===null||R(y)?(t.exit("definition"),r.parser.defined.push(o),e(y)):n(y)}}function U0(t,e,n){return r;function r(u){return me(u)?Cn(t,o)(u):n(u)}function o(u){return Qi(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return H(u)?$(t,l,"whitespace")(u):l(u)}function l(u){return u===null||R(u)?e(u):n(u)}}var ea={name:"hardBreakEscape",tokenize:H0};function H0(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return R(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}var ta={name:"headingAtx",resolve:$0,tokenize:j0};function $0(t,e){let n=t.length-2,r=3,o,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ee(t,r,n-r+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}function j0(t,e,n){let r=0;return o;function o(p){return t.enter("atxHeading"),s(p)}function s(p){return t.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(t.consume(p),l):p===null||me(p)?(t.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(t.enter("atxHeadingSequence"),f(p)):p===null||R(p)?(t.exit("atxHeading"),e(p)):H(p)?$(t,u,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function f(p){return p===35?(t.consume(p),f):(t.exit("atxHeadingSequence"),u(p))}function h(p){return p===null||p===35||me(p)?(t.exit("atxHeadingText"),u(p)):(t.consume(p),h)}}var yc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],na=["pre","script","style","textarea"];var ra={concrete:!0,name:"htmlFlow",resolveTo:K0,tokenize:Z0},G0={partial:!0,tokenize:J0},q0={partial:!0,tokenize:Q0};function K0(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Z0(t,e,n){let r=this,o,s,l,u,f;return h;function h(k){return p(k)}function p(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),m}function m(k){return k===33?(t.consume(k),w):k===47?(t.consume(k),s=!0,P):k===63?(t.consume(k),o=3,r.interrupt?e:v):qe(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function w(k){return k===45?(t.consume(k),o=2,y):k===91?(t.consume(k),o=5,u=0,x):qe(k)?(t.consume(k),o=4,r.interrupt?e:v):n(k)}function y(k){return k===45?(t.consume(k),r.interrupt?e:v):n(k)}function x(k){let Le="CDATA[";return k===Le.charCodeAt(u++)?(t.consume(k),u===Le.length?r.interrupt?e:X:x):n(k)}function P(k){return qe(k)?(t.consume(k),l=String.fromCharCode(k),S):n(k)}function S(k){if(k===null||k===47||k===62||me(k)){let Le=k===47,Dt=l.toLowerCase();return!Le&&!s&&na.includes(Dt)?(o=1,r.interrupt?e(k):X(k)):yc.includes(l.toLowerCase())?(o=6,Le?(t.consume(k),C):r.interrupt?e(k):X(k)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):s?T(k):F(k))}return k===45||Ve(k)?(t.consume(k),l+=String.fromCharCode(k),S):n(k)}function C(k){return k===62?(t.consume(k),r.interrupt?e:X):n(k)}function T(k){return H(k)?(t.consume(k),T):ne(k)}function F(k){return k===47?(t.consume(k),ne):k===58||k===95||qe(k)?(t.consume(k),B):H(k)?(t.consume(k),F):ne(k)}function B(k){return k===45||k===46||k===58||k===95||Ve(k)?(t.consume(k),B):Y(k)}function Y(k){return k===61?(t.consume(k),E):H(k)?(t.consume(k),Y):F(k)}function E(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,Q):H(k)?(t.consume(k),E):j(k)}function Q(k){return k===f?(t.consume(k),f=null,G):k===null||R(k)?n(k):(t.consume(k),Q)}function j(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||me(k)?Y(k):(t.consume(k),j)}function G(k){return k===47||k===62||H(k)?F(k):n(k)}function ne(k){return k===62?(t.consume(k),se):n(k)}function se(k){return k===null||R(k)?X(k):H(k)?(t.consume(k),se):n(k)}function X(k){return k===45&&o===2?(t.consume(k),ee):k===60&&o===1?(t.consume(k),ce):k===62&&o===4?(t.consume(k),_e):k===63&&o===3?(t.consume(k),v):k===93&&o===5?(t.consume(k),ze):R(k)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(G0,Te,N)(k)):k===null||R(k)?(t.exit("htmlFlowData"),N(k)):(t.consume(k),X)}function N(k){return t.check(q0,U,Te)(k)}function U(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),V}function V(k){return k===null||R(k)?N(k):(t.enter("htmlFlowData"),X(k))}function ee(k){return k===45?(t.consume(k),v):X(k)}function ce(k){return k===47?(t.consume(k),l="",he):X(k)}function he(k){if(k===62){let Le=l.toLowerCase();return na.includes(Le)?(t.consume(k),_e):X(k)}return qe(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),he):X(k)}function ze(k){return k===93?(t.consume(k),v):X(k)}function v(k){return k===62?(t.consume(k),_e):k===45&&o===2?(t.consume(k),v):X(k)}function _e(k){return k===null||R(k)?(t.exit("htmlFlowData"),Te(k)):(t.consume(k),_e)}function Te(k){return t.exit("htmlFlow"),e(k)}}function Q0(t,e,n){let r=this;return o;function o(l){return R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function J0(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(rn,e,n)}}var ia={name:"htmlText",tokenize:X0};function X0(t,e,n){let r=this,o,s,l;return u;function u(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),Y):v===63?(t.consume(v),F):qe(v)?(t.consume(v),j):n(v)}function h(v){return v===45?(t.consume(v),p):v===91?(t.consume(v),s=0,x):qe(v)?(t.consume(v),T):n(v)}function p(v){return v===45?(t.consume(v),y):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),w):R(v)?(l=m,ce(v)):(t.consume(v),m)}function w(v){return v===45?(t.consume(v),y):m(v)}function y(v){return v===62?ee(v):v===45?w(v):m(v)}function x(v){let _e="CDATA[";return v===_e.charCodeAt(s++)?(t.consume(v),s===_e.length?P:x):n(v)}function P(v){return v===null?n(v):v===93?(t.consume(v),S):R(v)?(l=P,ce(v)):(t.consume(v),P)}function S(v){return v===93?(t.consume(v),C):P(v)}function C(v){return v===62?ee(v):v===93?(t.consume(v),C):P(v)}function T(v){return v===null||v===62?ee(v):R(v)?(l=T,ce(v)):(t.consume(v),T)}function F(v){return v===null?n(v):v===63?(t.consume(v),B):R(v)?(l=F,ce(v)):(t.consume(v),F)}function B(v){return v===62?ee(v):F(v)}function Y(v){return qe(v)?(t.consume(v),E):n(v)}function E(v){return v===45||Ve(v)?(t.consume(v),E):Q(v)}function Q(v){return R(v)?(l=Q,ce(v)):H(v)?(t.consume(v),Q):ee(v)}function j(v){return v===45||Ve(v)?(t.consume(v),j):v===47||v===62||me(v)?G(v):n(v)}function G(v){return v===47?(t.consume(v),ee):v===58||v===95||qe(v)?(t.consume(v),ne):R(v)?(l=G,ce(v)):H(v)?(t.consume(v),G):ee(v)}function ne(v){return v===45||v===46||v===58||v===95||Ve(v)?(t.consume(v),ne):se(v)}function se(v){return v===61?(t.consume(v),X):R(v)?(l=se,ce(v)):H(v)?(t.consume(v),se):G(v)}function X(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),o=v,N):R(v)?(l=X,ce(v)):H(v)?(t.consume(v),X):(t.consume(v),U)}function N(v){return v===o?(t.consume(v),o=void 0,V):v===null?n(v):R(v)?(l=N,ce(v)):(t.consume(v),N)}function U(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||me(v)?G(v):(t.consume(v),U)}function V(v){return v===47||v===62||me(v)?G(v):n(v)}function ee(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ce(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),he}function he(v){return H(v)?$(t,ze,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):ze(v)}function ze(v){return t.enter("htmlTextData"),l(v)}}var An={name:"labelEnd",resolveAll:rw,resolveTo:iw,tokenize:ow},ew={tokenize:sw},tw={tokenize:aw},nw={tokenize:lw};function rw(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&Ee(t,0,t.length,n),t}function iw(t,e){let n=t.length,r=0,o,s,l,u;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);let f={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[s][1].start},end:{...t[l][1].end}},p={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",f,e],["enter",h,e]],u=Ye(u,t.slice(s+1,s+r+3)),u=Ye(u,[["enter",p,e]]),u=Ye(u,Xn(e.parser.constructs.insideSpan.null,t.slice(s+r+4,l-3),e)),u=Ye(u,[["exit",p,e],t[l-2],t[l-1],["exit",h,e]]),u=Ye(u,t.slice(l+1)),u=Ye(u,[["exit",f,e]]),Ee(t,s,t.length,u),t}function ow(t,e,n){let r=this,o=r.events.length,s,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return u;function u(w){return s?s._inactive?m(w):(l=r.parser.defined.includes($t(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),f):n(w)}function f(w){return w===40?t.attempt(ew,p,l?p:m)(w):w===91?t.attempt(tw,p,l?h:m)(w):l?p(w):m(w)}function h(w){return t.attempt(nw,p,m)(w)}function p(w){return e(w)}function m(w){return s._balanced=!0,n(w)}}function sw(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),o}function o(m){return me(m)?Cn(t,s)(m):s(m)}function s(m){return m===41?p(m):Ki(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return me(m)?Cn(t,f)(m):p(m)}function u(m){return n(m)}function f(m){return m===34||m===39||m===40?Qi(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function h(m){return me(m)?Cn(t,p)(m):p(m)}function p(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function aw(t,e,n){let r=this;return o;function o(u){return Zi.call(r,t,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes($t(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function lw(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}var oa={name:"labelStartImage",resolveAll:An.resolveAll,tokenize:uw};function uw(t,e,n){let r=this;return o;function o(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var sa={name:"labelStartLink",resolveAll:An.resolveAll,tokenize:cw};function cw(t,e,n){let r=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var Nr={name:"lineEnding",tokenize:dw};function dw(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$(t,e,"linePrefix")}}var En={name:"thematicBreak",tokenize:fw};function fw(t,e,n){let r=0,o;return s;function s(h){return t.enter("thematicBreak"),l(h)}function l(h){return o=h,u(h)}function u(h){return h===o?(t.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||R(h))?(t.exit("thematicBreak"),e(h)):n(h)}function f(h){return h===o?(t.consume(h),r++,f):(t.exit("thematicBreakSequence"),H(h)?$(t,u,"whitespace")(h):u(h))}}var Me={continuation:{tokenize:gw},exit:yw,name:"list",tokenize:mw},hw={partial:!0,tokenize:kw},pw={partial:!0,tokenize:ww};function mw(t,e,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){let x=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Ir(y)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(En,n,h)(y):h(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(y)}return n(y)}function f(y){return Ir(y)&&++l<10?(t.consume(y),f):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),h(y)):n(y)}function h(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(rn,r.interrupt?n:p,t.attempt(hw,w,m))}function p(y){return r.containerState.initialBlankLine=!0,s++,w(y)}function m(y){return H(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),w):n(y)}function w(y){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function gw(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(rn,o,s);function o(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!H(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(pw,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,$(t,t.attempt(Me,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function ww(t,e,n){let r=this;return $(t,o,"listItemIndent",r.containerState.size+1);function o(s){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(s):n(s)}}function yw(t){t.exit(this.containerState.type)}function kw(t,e,n){let r=this;return $(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let l=r.events[r.events.length-1];return!H(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}var Ji={name:"setextUnderline",resolveTo:bw,tokenize:vw};function bw(t,e){let n=t.length,r,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let l={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",l,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function vw(t,e,n){let r=this,o;return s;function s(h){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),o=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),u(h)}function u(h){return h===o?(t.consume(h),u):(t.exit("setextHeadingLineSequence"),H(h)?$(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||R(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}var kc={tokenize:xw};function xw(t){let e=this,n=t.attempt(rn,r,t.attempt(this.parser.constructs.flowInitial,o,$(t,t.attempt(this.parser.constructs.flow,o,t.attempt(Js,o)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var bc={resolveAll:Ac()},vc=Cc("string"),xc=Cc("text");function Cc(t){return{resolveAll:Ac(t==="text"?Cw:void 0),tokenize:e};function e(n){let r=this,o=this.parser.constructs[t],s=n.attempt(o,l,u);return l;function l(p){return h(p)?s(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return h(p)?(n.exit("data"),s(p)):(n.consume(p),f)}function h(p){if(p===null)return!0;let m=o[p],w=-1;if(m)for(;++w<m.length;){let y=m[w];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Ac(t){return e;function e(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,r):n}}function Cw(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],o=e.sliceStream(r),s=o.length,l=-1,u=0,f;for(;s--;){let h=o[s];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(h===-2)f=!0,u++;else if(h!==-1){s++;break}}if(u){let h={type:n===t.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}var aa={};Kl(aa,{attentionMarkers:()=>Dw,contentInitial:()=>Ew,disable:()=>Mw,document:()=>Aw,flow:()=>_w,flowInitial:()=>Sw,insideSpan:()=>Pw,string:()=>Tw,text:()=>Fw});var Aw={42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:Ui},Ew={91:Xs},Sw={[-2]:Or,[-1]:Or,32:Or},_w={35:ta,42:En,45:[Ji,En],60:ra,61:Ji,95:En,96:ji,126:ji},Tw={38:$i,92:Hi},Fw={[-5]:Nr,[-4]:Nr,[-3]:Nr,33:oa,38:$i,42:Lr,60:[Zs,ia],91:sa,92:[ea,Hi],93:An,95:Lr,96:Qs},Pw={null:[Lr,bc]},Dw={null:[42,95]},Mw={null:[]};function Ec(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],l=[],u=[],f=!0,h={attempt:G(Q),check:G(j),consume:B,enter:Y,exit:E,interrupt:G(j,{interrupt:!0})},p={code:null,containerState:{},defineSkip:C,events:[],now:S,parser:t,previous:null,sliceSerialize:x,sliceStream:P,write:y},m=e.tokenize.call(p,h),w;return e.resolveAll&&s.push(e),p;function y(N){return l=Ye(l,N),T(),l[l.length-1]!==null?[]:(ne(e,0),p.events=Xn(s,p.events,p),p.events)}function x(N,U){return Lw(P(N),U)}function P(N){return Iw(l,N)}function S(){let{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}=r;return{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}}function C(N){o[N.line]=N.column,X()}function T(){let N;for(;r._index<l.length;){let U=l[r._index];if(typeof U=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<U.length;)F(U.charCodeAt(r._bufferIndex));else F(U)}}function F(N){f=void 0,w=N,m=m(N)}function B(N){R(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,X()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),p.previous=N,f=!0}function Y(N,U){let V=U||{};return V.type=N,V.start=S(),p.events.push(["enter",V,p]),u.push(V),V}function E(N){let U=u.pop();return U.end=S(),p.events.push(["exit",U,p]),U}function Q(N,U){ne(N,U.from)}function j(N,U){U.restore()}function G(N,U){return V;function V(ee,ce,he){let ze,v,_e,Te;return Array.isArray(ee)?Le(ee):"tokenize"in ee?Le([ee]):k(ee);function k(ge){return fn;function fn(lt){let Mt=lt!==null&&ge[lt],Qt=lt!==null&&ge.null,pr=[...Array.isArray(Mt)?Mt:Mt?[Mt]:[],...Array.isArray(Qt)?Qt:Qt?[Qt]:[]];return Le(pr)(lt)}}function Le(ge){return ze=ge,v=0,ge.length===0?he:Dt(ge[v])}function Dt(ge){return fn;function fn(lt){return Te=se(),_e=ge,ge.partial||(p.currentConstruct=ge),ge.name&&p.parser.constructs.disable.null.includes(ge.name)?dn(lt):ge.tokenize.call(U?Object.assign(Object.create(p),U):p,h,Zt,dn)(lt)}}function Zt(ge){return f=!0,N(_e,Te),ce}function dn(ge){return f=!0,Te.restore(),++v<ze.length?Dt(ze[v]):he}}}function ne(N,U){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Ee(p.events,U,p.events.length-U,N.resolve(p.events.slice(U),p)),N.resolveTo&&(p.events=N.resolveTo(p.events,p))}function se(){let N=S(),U=p.previous,V=p.currentConstruct,ee=p.events.length,ce=Array.from(u);return{from:ee,restore:he};function he(){r=N,p.previous=U,p.currentConstruct=V,p.events.length=ee,u=ce,X()}}function X(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function Iw(t,e){let n=e.start._index,r=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex,l;if(n===o)l=[t[n].slice(r,s)];else{if(l=t.slice(n,o),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}s>0&&l.push(t[o].slice(0,s))}return l}function Lw(t,e){let n=-1,r=[],o;for(;++n<t.length;){let s=t[n],l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,r.push(l)}return r.join("")}function la(t){let r={constructs:ac([aa,...(t||{}).extensions||[]]),content:o(hc),defined:[],document:o(mc),flow:o(kc),lazy:{},string:o(vc),text:o(xc)};return r;function o(s){return l;function l(u){return Ec(r,s,u)}}}function ua(t){for(;!qi(t););return t}var Sc=/[\0\t\n\r]/g;function ca(){let t=1,e="",n=!0,r;return o;function o(s,l,u){let f=[],h,p,m,w,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(Sc.lastIndex=m,h=Sc.exec(s),w=h&&h.index!==void 0?h.index:s.length,y=s.charCodeAt(w),!h){e=s.slice(m);break}if(y===10&&m===w&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),m<w&&(f.push(s.slice(m,w)),t+=w-m),y){case 0:{f.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,f.push(-2);t++<p;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}m=w+1}return u&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}var Ow=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Xi(t){return t.replace(Ow,Rw)}function Rw(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return zi(n.slice(s?2:1),s?16:10)}return Qn(n)||t}function on(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?_c(t.position):"start"in t||"end"in t?_c(t):"line"in t||"column"in t?da(t):""}function da(t){return Tc(t&&t.line)+":"+Tc(t&&t.column)}function _c(t){return da(t&&t.start)+"-"+da(t&&t.end)}function Tc(t){return t&&typeof t=="number"?t:1}var Pc={}.hasOwnProperty;function fa(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Nw(n)(ua(la(n).document().write(ca()(t,e,!0))))}function Nw(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Oe),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(Qr),blockQuote:s(lt),characterEscape:G,characterReference:G,codeFenced:s(Mt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Mt,l),codeText:s(Qt,l),codeTextData:G,data:G,codeFlowValue:G,definition:s(pr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(as),hardBreakEscape:s(Jr),hardBreakTrailing:s(Jr),htmlFlow:s(Xr,l),htmlFlowData:G,htmlText:s(Xr,l),htmlTextData:G,image:s(ei),label:l,link:s(Oe),listItem:s(ls),listItemValue:w,listOrdered:s(Mn,m),listUnordered:s(Mn),paragraph:s(us),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Qr),strong:s(ti),thematicBreak:s(ni)},exit:{atxHeading:f(),atxHeadingSequence:Y,autolink:f(),autolinkEmail:fn,autolinkProtocol:ge,blockQuote:f(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Dt,characterReferenceMarkerNumeric:Dt,characterReferenceValue:Zt,characterReference:dn,codeFenced:f(S),codeFencedFence:P,codeFencedFenceInfo:y,codeFencedFenceMeta:x,codeFlowValue:ne,codeIndented:f(C),codeText:f(V),codeTextData:ne,data:ne,definition:f(),definitionDestinationString:B,definitionLabelString:T,definitionTitleString:F,emphasis:f(),hardBreakEscape:f(X),hardBreakTrailing:f(X),htmlFlow:f(N),htmlFlowData:ne,htmlText:f(U),htmlTextData:ne,image:f(ce),label:ze,labelText:he,lineEnding:se,link:f(ee),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Le,resourceDestinationString:v,resourceTitleString:_e,resource:Te,setextHeading:f(j),setextHeadingLineSequence:Q,setextHeadingText:E,strong:f(),thematicBreak:f()}};Dc(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let M={type:"root",children:[]},I={stack:[M],tokenStack:[],config:e,enter:u,exit:h,buffer:l,resume:p,data:n},q=[],re=-1;for(;++re<_.length;)if(_[re][1].type==="listOrdered"||_[re][1].type==="listUnordered")if(_[re][0]==="enter")q.push(re);else{let Fe=q.pop();re=o(_,Fe,re)}for(re=-1;++re<_.length;){let Fe=e[_[re][0]];Pc.call(Fe,_[re][1].type)&&Fe[_[re][1].type].call(Object.assign({sliceSerialize:_[re][2].sliceSerialize},I),_[re][1])}if(I.tokenStack.length>0){let Fe=I.tokenStack[I.tokenStack.length-1];(Fe[1]||Fc).call(I,void 0,Fe[0])}for(M.position={start:sn(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:sn(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<e.transforms.length;)M=e.transforms[re](M)||M;return M}function o(_,M,I){let q=M-1,re=-1,Fe=!1,ut,Ue,Ze,kt;for(;++q<=I;){let Ne=_[q];switch(Ne[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ne[0]==="enter"?re++:re--,kt=void 0;break}case"lineEndingBlank":{Ne[0]==="enter"&&(ut&&!kt&&!re&&!Ze&&(Ze=q),kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kt=void 0}if(!re&&Ne[0]==="enter"&&Ne[1].type==="listItemPrefix"||re===-1&&Ne[0]==="exit"&&(Ne[1].type==="listUnordered"||Ne[1].type==="listOrdered")){if(ut){let ct=q;for(Ue=void 0;ct--;){let dt=_[ct];if(dt[1].type==="lineEnding"||dt[1].type==="lineEndingBlank"){if(dt[0]==="exit")continue;Ue&&(_[Ue][1].type="lineEndingBlank",Fe=!0),dt[1].type="lineEnding",Ue=ct}else if(!(dt[1].type==="linePrefix"||dt[1].type==="blockQuotePrefix"||dt[1].type==="blockQuotePrefixWhitespace"||dt[1].type==="blockQuoteMarker"||dt[1].type==="listItemIndent"))break}Ze&&(!Ue||Ze<Ue)&&(ut._spread=!0),ut.end=Object.assign({},Ue?_[Ue][1].start:Ne[1].end),_.splice(Ue||q,0,["exit",ut,Ne[2]]),q++,I++}if(Ne[1].type==="listItemPrefix"){let ct={type:"listItem",_spread:!1,start:Object.assign({},Ne[1].start),end:void 0};ut=ct,_.splice(q,0,["enter",ct,Ne[2]]),q++,I++,Ze=void 0,kt=!0}}}return _[M][1]._spread=Fe,I}function s(_,M){return I;function I(q){u.call(this,_(q),q),M&&M.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,M,I){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([M,I||void 0]),_.position={start:sn(M.start),end:void 0}}function f(_){return M;function M(I){_&&_.call(this,I),h.call(this,I)}}function h(_,M){let I=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==_.type&&(M?M.call(this,_,q[0]):(q[1]||Fc).call(this,_,q[0]));else throw new Error("Cannot close `"+_.type+"` ("+on({start:_.start,end:_.end})+"): it\u2019s not open");I.position.end=sn(_.end)}function p(){return xn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function w(_){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function y(){let _=this.resume(),M=this.stack[this.stack.length-1];M.lang=_}function x(){let _=this.resume(),M=this.stack[this.stack.length-1];M.meta=_}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/(\r?\n|\r)$/g,"")}function T(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=$t(this.sliceSerialize(_)).toLowerCase()}function F(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function B(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function Y(_){let M=this.stack[this.stack.length-1];if(!M.depth){let I=this.sliceSerialize(_).length;M.depth=I}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function Q(_){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function G(_){let I=this.stack[this.stack.length-1].children,q=I[I.length-1];(!q||q.type!=="text")&&(q=Re(),q.position={start:sn(_.start),end:void 0},I.push(q)),this.stack.push(q)}function ne(_){let M=this.stack.pop();M.value+=this.sliceSerialize(_),M.position.end=sn(_.end)}function se(_){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let I=M.children[M.children.length-1];I.position.end=sn(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(G.call(this,_),ne.call(this,_))}function X(){this.data.atHardBreak=!0}function N(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function U(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function V(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function ee(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ce(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function he(_){let M=this.sliceSerialize(_),I=this.stack[this.stack.length-2];I.label=Xi(M),I.identifier=$t(M).toLowerCase()}function ze(){let _=this.stack[this.stack.length-1],M=this.resume(),I=this.stack[this.stack.length-1];if(this.data.inReference=!0,I.type==="link"){let q=_.children;I.children=q}else I.alt=M}function v(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function _e(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function Te(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Le(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=$t(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function Dt(_){this.data.characterReferenceType=_.type}function Zt(_){let M=this.sliceSerialize(_),I=this.data.characterReferenceType,q;I?(q=zi(M,I==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=Qn(M);let re=this.stack[this.stack.length-1];re.value+=q}function dn(_){let M=this.stack.pop();M.position.end=sn(_.end)}function ge(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(_)}function fn(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(_)}function lt(){return{type:"blockquote",children:[]}}function Mt(){return{type:"code",lang:null,meta:null,value:""}}function Qt(){return{type:"inlineCode",value:""}}function pr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function as(){return{type:"emphasis",children:[]}}function Qr(){return{type:"heading",depth:0,children:[]}}function Jr(){return{type:"break"}}function Xr(){return{type:"html",value:""}}function ei(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Mn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function ls(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function us(){return{type:"paragraph",children:[]}}function ti(){return{type:"strong",children:[]}}function Re(){return{type:"text",value:""}}function ni(){return{type:"thematicBreak"}}}function sn(t){return{line:t.line,column:t.column,offset:t.offset}}function Dc(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Dc(t,r):Ww(t,r)}}function Ww(t,e){let n;for(n in e)if(Pc.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function Fc(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+on({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+on({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+on({start:e.start,end:e.end})+") is still open")}function er(t){let e=this;e.parser=n;function n(r){return fa(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var Mc={}.hasOwnProperty;function Ic(t,e){let n=e||{};function r(o,...s){let l=r.invalid,u=r.handlers;if(o&&Mc.call(o,t)){let f=String(o[t]);l=Mc.call(u,f)?u[f]:r.unknown}if(l)return l.call(this,o,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var Bw={}.hasOwnProperty;function ha(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)ha(t,e.extensions[n]);for(r in e)if(Bw.call(e,r))switch(r){case"extensions":break;case"unsafe":{Lc(t[r],e[r]);break}case"join":{Lc(t[r],e[r]);break}case"handlers":{Yw(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Lc(t,e){e&&t.push(...e)}function Yw(t,e){e&&Object.assign(t,e)}function Oc(t,e,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let l=n.indentLines(n.containerFlow(t,s.current()),Vw);return o(),l}function Vw(t,e,n){return">"+(n?"":" ")+t}function eo(t,e){return Rc(t,e.inConstruct,!0)&&!Rc(t,e.notInConstruct,!1)}function Rc(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function pa(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&eo(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Nc(t,e){let n=String(t),r=n.indexOf(e),o=r,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>l&&(l=s):s=1,o=r+e.length,r=n.indexOf(e,o);return l}function Wr(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Wc(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Bc(t,e,n,r){let o=Wc(n),s=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(Wr(t,n)){let m=n.enter("codeIndented"),w=n.indentLines(s,zw);return m(),w}let u=n.createTracker(r),f=o.repeat(Math.max(Nc(s,o)+1,3)),h=n.enter("codeFenced"),p=u.move(f);if(t.lang){let m=n.enter(`codeFencedLang${l}`);p+=u.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);p+=u.move(" "),p+=u.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...u.current()})),m()}return p+=u.move(`
`),s&&(p+=u.move(s+`
`)),p+=u.move(f),h(),p}function zw(t,e,n){return(n?"":"    ")+t}function tr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Yc(t,e,n,r){let o=tr(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),f=n.createTracker(r),h=f.move("[");return h+=f.move(n.safe(n.associationId(t),{before:h,after:"]",...f.current()})),h+=f.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...f.current()}))),u(),t.title&&(u=n.enter(`title${s}`),h+=f.move(" "+o),h+=f.move(n.safe(t.title,{before:h,after:o,...f.current()})),h+=f.move(o),u()),l(),h}function Vc(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Ke(t){return"&#x"+t.toString(16).toUpperCase()+";"}function nr(t,e,n){let r=Jn(t),o=Jn(e);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}ma.peek=Uw;function ma(t,e,n,r){let o=Vc(n),s=n.enter("emphasis"),l=n.createTracker(r),u=l.move(o),f=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),h=f.charCodeAt(0),p=nr(r.before.charCodeAt(r.before.length-1),h,o);p.inside&&(f=Ke(h)+f.slice(1));let m=f.charCodeAt(f.length-1),w=nr(r.after.charCodeAt(0),m,o);w.inside&&(f=f.slice(0,-1)+Ke(m));let y=l.move(o);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:p.outside},u+f+y}function Uw(t,e,n){return n.options.emphasis||"*"}var rr=function(t){if(t==null)return Gw;if(typeof t=="function")return to(t);if(typeof t=="object")return Array.isArray(t)?Hw(t):$w(t);if(typeof t=="string")return jw(t);throw new Error("Expected function, string, or object as test")};function Hw(t){let e=[],n=-1;for(;++n<t.length;)e[n]=rr(t[n]);return to(r);function r(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}function $w(t){let e=t;return to(n);function n(r){let o=r,s;for(s in t)if(o[s]!==e[s])return!1;return!0}}function jw(t){return to(e);function e(n){return n&&n.type===t}}function to(t){return e;function e(n,r,o){return!!(qw(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function Gw(){return!0}function qw(t){return t!==null&&typeof t=="object"&&"type"in t}function zc(t){return"\x1B[33m"+t+"\x1B[39m"}var Uc=[],no=!0,Sn=!1,ro="skip";function ga(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;let s=rr(o),l=r?-1:1;u(t,void 0,[])();function u(f,h,p){let m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){let y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(w,"name",{value:"node ("+zc(f.type+(y?"<"+y+">":""))+")"})}return w;function w(){let y=Uc,x,P,S;if((!e||s(f,h,p[p.length-1]||void 0))&&(y=Kw(n(f,p)),y[0]===Sn))return y;if("children"in f&&f.children){let C=f;if(C.children&&y[0]!==ro)for(P=(r?C.children.length:-1)+l,S=p.concat(C);P>-1&&P<C.children.length;){let T=C.children[P];if(x=u(T,P,S)(),x[0]===Sn)return x;P=typeof x[1]=="number"?x[1]:P+l}}return y}}}function Kw(t){return Array.isArray(t)?t:typeof t=="number"?[no,t]:t==null?Uc:[t]}function wa(t,e,n,r){let o,s,l;typeof e=="function"&&typeof n!="function"?(s=void 0,l=e,o=n):(s=e,l=n,o=r),ga(t,s,u,o);function u(f,h){let p=h[h.length-1],m=p?p.children.indexOf(f):void 0;return l(f,m,p)}}function io(t,e){let n=!1;return wa(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Sn}),!!((!t.depth||t.depth<3)&&xn(t)&&(e.options.setext||n))}function Hc(t,e,n,r){let o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(io(t,n)){let p=n.enter("headingSetext"),m=n.enter("phrasing"),w=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),p(),w+`
`+(o===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let l="#".repeat(o),u=n.enter("headingAtx"),f=n.enter("phrasing");s.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(h)&&(h=Ke(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),f(),u(),h}ya.peek=Zw;function ya(t){return t.value||""}function Zw(){return"<"}ka.peek=Qw;function ka(t,e,n,r){let o=tr(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),f=n.createTracker(r),h=f.move("![");return h+=f.move(n.safe(t.alt,{before:h,after:"]",...f.current()})),h+=f.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),h+=f.move("<"),h+=f.move(n.safe(t.url,{before:h,after:">",...f.current()})),h+=f.move(">")):(u=n.enter("destinationRaw"),h+=f.move(n.safe(t.url,{before:h,after:t.title?" ":")",...f.current()}))),u(),t.title&&(u=n.enter(`title${s}`),h+=f.move(" "+o),h+=f.move(n.safe(t.title,{before:h,after:o,...f.current()})),h+=f.move(o),u()),h+=f.move(")"),l(),h}function Qw(){return"!"}ba.peek=Jw;function ba(t,e,n,r){let o=t.referenceType,s=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("!["),h=n.safe(t.alt,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=p,s(),o==="full"||!h||h!==m?f+=u.move(m+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function Jw(){return"!"}va.peek=Xw;function va(t,e,n){let r=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let l=n.unsafe[s],u=n.compilePattern(l),f;if(l.atBreak)for(;f=u.exec(r);){let h=f.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(f.index+1)}}return o+r+o}function Xw(){return"`"}function xa(t,e){let n=xn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Ca.peek=ey;function Ca(t,e,n,r){let o=tr(n),s=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,f;if(xa(t,n)){let p=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=p,m}u=n.enter("link"),f=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(f=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${s}`),h+=l.move(" "+o),h+=l.move(n.safe(t.title,{before:h,after:o,...l.current()})),h+=l.move(o),f()),h+=l.move(")"),u(),h}function ey(t,e,n){return xa(t,n)?"<":"["}Aa.peek=ty;function Aa(t,e,n,r){let o=t.referenceType,s=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("["),h=n.containerPhrasing(t,{before:f,after:"]",...u.current()});f+=u.move(h+"]["),l();let p=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=p,s(),o==="full"||!h||h!==m?f+=u.move(m+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function ty(){return"["}function ir(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function $c(t){let e=ir(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function jc(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function oo(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Gc(t,e,n,r){let o=n.enter("list"),s=n.bulletCurrent,l=t.ordered?jc(n):ir(n),u=t.ordered?l==="."?")":".":$c(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let p=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),oo(n)===l&&p){let m=-1;for(;++m<t.children.length;){let w=t.children[m];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=u),n.bulletCurrent=l;let h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=s,o(),h}function qc(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Kc(t,e,n,r){let o=qc(n),s=n.bulletCurrent||ir(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let l=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(s+" ".repeat(l-s.length)),u.shift(l);let f=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,u.current()),p);return f(),h;function p(m,w,y){return w?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function Zc(t,e,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(t,r);return s(),o(),l}var Ea=rr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Qc(t,e,n,r){return(t.children.some(function(l){return Ea(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Jc(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Sa.peek=ny;function Sa(t,e,n,r){let o=Jc(n),s=n.enter("strong"),l=n.createTracker(r),u=l.move(o+o),f=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),h=f.charCodeAt(0),p=nr(r.before.charCodeAt(r.before.length-1),h,o);p.inside&&(f=Ke(h)+f.slice(1));let m=f.charCodeAt(f.length-1),w=nr(r.after.charCodeAt(0),m,o);w.inside&&(f=f.slice(0,-1)+Ke(m));let y=l.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:p.outside},u+f+y}function ny(t,e,n){return n.options.strong||"*"}function Xc(t,e,n,r){return n.safe(t.value,r)}function ed(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function td(t,e,n){let r=(oo(n)+(n.options.ruleSpaces?" ":"")).repeat(ed(n));return n.options.ruleSpaces?r.slice(0,-1):r}var nd={blockquote:Oc,break:pa,code:Bc,definition:Yc,emphasis:ma,hardBreak:pa,heading:Hc,html:ya,image:ka,imageReference:ba,inlineCode:va,link:Ca,linkReference:Aa,list:Gc,listItem:Kc,paragraph:Zc,root:Qc,strong:Sa,text:Xc,thematicBreak:td};var rd=[ry];function ry(t,e,n,r){if(e.type==="code"&&Wr(e,r)&&(t.type==="list"||t.type===e.type&&Wr(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&io(e,r))?void 0:n.spread?1:0}var _n=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],id=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:_n},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:_n},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:_n},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:_n},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:_n},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:_n},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:_n},{atBreak:!0,character:"~"}];function od(t){return t.label||!t.identifier?t.label||"":Xi(t.identifier)}function sd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function ad(t,e,n){let r=e.indexStack,o=t.children||[],s=[],l=-1,u=n.before,f;r.push(-1);let h=e.createTracker(n);for(;++l<o.length;){let p=o[l],m;if(r[r.length-1]=l,l+1<o.length){let x=e.handle.handlers[o[l+1].type];x&&x.peek&&(x=x.peek),m=x?x(o[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else m=n.after;s.length>0&&(u==="\r"||u===`
`)&&p.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",h=e.createTracker(n),h.move(s.join("")));let w=e.handle(p,t,e,{...h.current(),after:m,before:u});f&&f===w.slice(0,1)&&(w=Ke(f.charCodeAt(0))+w.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,y&&(s.length>0&&y.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Ke(u.charCodeAt(0))),y.after&&(f=m)),h.move(w),s.push(w),u=w.slice(-1)}return r.pop(),s.join("")}function ld(t,e,n){let r=e.indexStack,o=t.children||[],s=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<o.length;){let f=o[u];r[r.length-1]=u,l.push(s.move(e.handle(f,t,e,{before:`
`,after:`
`,...s.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),u<o.length-1&&l.push(s.move(iy(f,o[u+1],t,e)))}return r.pop(),l.join("")}function iy(t,e,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var oy=/\r?\n|\r/g;function ud(t,e){let n=[],r=0,o=0,s;for(;s=oy.exec(t);)l(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,o,!u))}}function dd(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),o=[],s=[],l={},u=-1;for(;++u<t.unsafe.length;){let p=t.unsafe[u];if(!eo(t.stack,p))continue;let m=t.compilePattern(p),w;for(;w=m.exec(r);){let y="before"in p||!!p.atBreak,x="after"in p,P=w.index+(y?w[1].length:0);o.includes(P)?(l[P].before&&!y&&(l[P].before=!1),l[P].after&&!x&&(l[P].after=!1)):(o.push(P),l[P]={before:y,after:x})}}o.sort(sy);let f=n.before?n.before.length:0,h=r.length-(n.after?n.after.length:0);for(u=-1;++u<o.length;){let p=o[u];p<f||p>=h||p+1<h&&o[u+1]===p+1&&l[p].after&&!l[p+1].before&&!l[p+1].after||o[u-1]===p-1&&l[p].before&&!l[p-1].before&&!l[p-1].after||(f!==p&&s.push(cd(r.slice(f,p),"\\")),f=p,/[!-/:-@[-`{-~]/.test(r.charAt(p))&&(!n.encode||!n.encode.includes(r.charAt(p)))?s.push("\\"):(s.push(Ke(r.charCodeAt(p))),f++))}return s.push(cd(r.slice(f,h),n.after)),s.join("")}function sy(t,e){return t-e}function cd(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=t+e,l=-1,u=0,f;for(;f=n.exec(s);)r.push(f.index);for(;++l<r.length;)u!==r[l]&&o.push(t.slice(u,r[l])),o.push("\\"),u=r[l];return o.push(t.slice(u)),o.join("")}function fd(t){let e=t||{},n=e.now||{},r=e.lineShift||0,o=n.line||1,s=n.column||1;return{move:f,current:l,shift:u};function l(){return{now:{line:o,column:s},lineShift:r}}function u(h){r+=h}function f(h){let p=h||"",m=p.split(/\r?\n|\r/g),w=m[m.length-1];return o+=m.length-1,s=m.length===1?s+w.length:1+w.length+r,p}}function _a(t,e){let n=e||{},r={associationId:od,containerPhrasing:cy,containerFlow:dy,createTracker:fd,compilePattern:sd,enter:s,handlers:{...nd},handle:void 0,indentLines:ud,indexStack:[],join:[...rd],options:{},safe:fy,stack:[],unsafe:[...id]};ha(r,n),r.options.tightDefinitions&&r.join.push(uy),r.handle=Ic("type",{invalid:ay,unknown:ly,handlers:r.handlers});let o=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function ay(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function ly(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function uy(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function cy(t,e){return ad(t,this,e)}function dy(t,e){return ld(t,this,e)}function fy(t,e){return dd(this,t,e)}function so(t){let e=this;e.compiler=n;function n(r){return _a(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Ta(t){if(t)throw t}var co=Je(vd(),1);function Br(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Fa(){let t=[],e={run:n,use:r};return e;function n(...o){let s=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(f,...h){let p=t[++s],m=-1;if(f){l(f);return}for(;++m<o.length;)(h[m]===null||h[m]===void 0)&&(h[m]=o[m]);o=h,p?xd(p,u)(...h):l(null,...h)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function xd(t,e){let n;return r;function r(...l){let u=t.length>l.length,f;u&&l.push(o);try{f=t.apply(this,l)}catch(h){let p=h;if(u&&n)throw p;return o(p)}u||(f&&f.then&&typeof f.then=="function"?f.then(s,o):f instanceof Error?o(f):s(f))}function o(l,...u){n||(n=!0,e(l,...u))}function s(l){o(null,l)}}var Ce=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(l=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let f=r.indexOf(":");f===-1?s.ruleId=r:(s.source=r.slice(0,f),s.ruleId=r.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){let f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=u?u.line:void 0,this.name=on(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}};Ce.prototype.file="";Ce.prototype.name="";Ce.prototype.reason="";Ce.prototype.message="";Ce.prototype.stack="";Ce.prototype.column=void 0;Ce.prototype.line=void 0;Ce.prototype.ancestors=void 0;Ce.prototype.cause=void 0;Ce.prototype.fatal=void 0;Ce.prototype.place=void 0;Ce.prototype.ruleId=void 0;Ce.prototype.source=void 0;var st=Je(require("node:path"),1);var Pa=Je(require("node:process"),1);var Da=require("node:url");function lo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var Ma=["history","path","basename","stem","extname","dirname"],Yr=class{constructor(e){let n;e?lo(e)?n={path:e}:typeof e=="string"||hy(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Pa.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ma.length;){let s=Ma[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)Ma.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?st.default.basename(this.path):void 0}set basename(e){La(e,"basename"),Ia(e,"basename"),this.path=st.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?st.default.dirname(this.path):void 0}set dirname(e){Cd(this.basename,"dirname"),this.path=st.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?st.default.extname(this.path):void 0}set extname(e){if(Ia(e,"extname"),Cd(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=st.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){lo(e)&&(e=(0,Da.fileURLToPath)(e)),La(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?st.default.basename(this.path,this.extname):void 0}set stem(e){La(e,"stem"),Ia(e,"stem"),this.path=st.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){let o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){let o=new Ce(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Ia(t,e){if(t&&t.includes(st.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+st.default.sep+"`")}function La(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Cd(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function hy(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Ad=function(t){let r=this.constructor.prototype,o=r[t],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,r),s};var py={}.hasOwnProperty,Wa=class t extends Ad{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Fa()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,co.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Na("data",this.frozen),this.namespace[e]=n,this):py.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Na("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=uo(e),r=this.parser||this.Parser;return Oa("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Oa("process",this.parser||this.Parser),Ra("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){let u=uo(e),f=r.parse(u);r.run(f,u,function(p,m,w){if(p||!m||!w)return h(p);let y=m,x=r.stringify(y,w);gy(x)?w.value=x:w.result=x,h(p,w)});function h(p,m){p||!m?l(p):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Oa("processSync",this.parser||this.Parser),Ra("processSync",this.compiler||this.Compiler),this.process(e,o),Sd("processSync","process",n),r;function o(s,l){n=!0,Ta(s),r=l}}run(e,n,r){Ed(e),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,u){let f=uo(n);o.run(e,f,h);function h(p,m,w){let y=m||e;p?u(p):l?l(y):r(void 0,y,w)}}}runSync(e,n){let r=!1,o;return this.run(e,n,s),Sd("runSync","run",r),o;function s(l,u){Ta(l),o=u,r=!0}}stringify(e,n){this.freeze();let r=uo(n),o=this.compiler||this.Compiler;return Ra("stringify",o),Ed(e),o(e,r)}use(e,...n){let r=this.attachers,o=this.namespace;if(Na("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[p,...m]=h;f(p,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(h.plugins),h.settings&&(o.settings=(0,co.default)(!0,o.settings,h.settings))}function u(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){let m=h[p];s(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let m=-1,w=-1;for(;++m<r.length;)if(r[m][0]===h){w=m;break}if(w===-1)r.push([h,...p]);else if(p.length>0){let[y,...x]=p,P=r[w][1];Br(P)&&Br(y)&&(y=(0,co.default)(!0,P,y)),r[w]=[h,y,...x]}}}},Ba=new Wa().freeze();function Oa(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ra(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Na(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ed(t){if(!Br(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Sd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function uo(t){return my(t)?t:new Yr(t)}function my(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gy(t){return typeof t=="string"||wy(t)}function wy(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var _d=Ba().use(er).use(so).freeze();var Va={d:(t,e)=>{for(var n in e)Va.o(e,n)&&!Va.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},za={};Va.d(za,{Z:()=>vy,$:()=>Dd});var or={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Td(t){return t<or.nul||t===or.space}function Ya(t){return t<or.horizontalTab}var yy={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,f,h){for(var p,m,w,y,x,P,S,C,T=(h.before||"")+(f||"")+(h.after||""),F=[],B=[],Y={},E=-1;++E<u.unsafe.length;)if(y=u.unsafe[E],o(u.stack,y))for(x=r(y);P=x.exec(T);)p="before"in y||y.atBreak,m="after"in y,w=P.index+(p?P[1].length:0),F.indexOf(w)===-1?(F.push(w),Y[w]={before:p,after:m}):(Y[w].before&&!p&&(Y[w].before=!1),Y[w].after&&!m&&(Y[w].after=!1));for(F.sort(s),S=h.before?h.before.length:0,C=T.length-(h.after?h.after.length:0),E=-1;++E<F.length;)(w=F[E])<S||w>=C||w+1<C&&F[E+1]===w+1&&Y[w].after&&!Y[w+1].before&&!Y[w+1].after||(S!==w&&B.push(l(T.slice(S,w),"\\")),S=w,!/[!-/:-@[-`{-~]/.test(T.charAt(w))||h.encode&&h.encode.indexOf(T.charAt(w))!==-1?(B.push("&#x"+T.charCodeAt(w).toString(16).toUpperCase()+";"),S++):B.push("\\"));return B.push(l(T.slice(S,C),h.after)),B.join("")};var r=n(553),o=n(112);function s(u,f){return u-f}function l(u,f){for(var h,p=/\\(?=[!-/:-@[-`{-~])/g,m=[],w=[],y=-1,x=0,P=u+f;h=p.exec(P);)m.push(h.index);for(;++y<m.length;)x!==m[y]&&w.push(u.slice(x,m[y])),w.push("\\"),x=m[y];return w.push(u.slice(x)),w.join("")}}},Fd={};function _t(t){var e=Fd[t];if(e!==void 0)return e.exports;var n=Fd[t]={exports:{}};return yy[t](n,n.exports,_t),n.exports}_t.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return _t.d(e,{a:e}),e},_t.d=(t,e)=>{for(var n in e)_t.o(e,n)&&!_t.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},_t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ua={};(()=>{function t(o={}){let s=o.permalinks||[],l=o.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=o.newClassName||"new",f=o.wikiLinkClassName||"internal",h=o.hrefTemplate||(w=>`#/page/${w}`),p;function m(w){return w[w.length-1]}return{enter:{wikiLink:function(w){p={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(p,w)}},exit:{wikiLinkTarget:function(w){let y=this.sliceSerialize(w);m(this.stack).value=y},wikiLinkAlias:function(w){let y=this.sliceSerialize(w);m(this.stack).data.alias=y},wikiLink:function(w){this.exit(w);let y=p,x=l(y.value),P=x.find(B=>s.indexOf(B)!==-1),S=P!==void 0,C;C=S?P:x[0]||"";let T=y.value;y.data.alias&&(T=y.data.alias);let F=f;S||(F+=" "+u),y.data.alias=T,y.data.permalink=C,y.data.exists=S,y.data.hName="a",y.data.hProperties={className:F,href:h(C)},y.data.hChildren=[{type:"text",value:T}]}}}}_t.d(Ua,{V:()=>t,x:()=>r});var e=_t(113),n=_t.n(e);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,f){let h=f.enter("wikiLink"),p=n()(f,l.value,{before:"[",after:"]"}),m=n()(f,l.data.alias,{before:"[",after:"]"}),w;return w=m!==p?`[[${p}${s}${m}]]`:`[[${p}]]`,h(),w}}}}})();var ky=Ua.V,by=Ua.x,Pd=!1;function Dd(t={}){let e=this.data();function n(r,o){e[r]?e[r].push(o):e[r]=[o]}!Pd&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Pd=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:function(s,l,u){var f,h,p=0,m=0,w=0;return function(T){return T!=="[[".charCodeAt(m)?u(T):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),y(T))};function y(T){return m===2?(s.exit("wikiLinkMarker"),function(F){return Ya(F)||F===or.eof?u(F):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),x(F))}(T)):T!=="[[".charCodeAt(m)?u(T):(s.consume(T),m++,y)}function x(T){return T===r.charCodeAt(p)?f?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),P(T)):u(T):T===o.charCodeAt(w)?f?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Ya(T)||T===or.eof?u(T):(Td(T)||(f=!0),s.consume(T),x)}function P(T){return p===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),S(T)):T!==r.charCodeAt(p)?u(T):(s.consume(T),p++,P)}function S(T){return T===o.charCodeAt(w)?h?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Ya(T)||T===or.eof?u(T):(Td(T)||(h=!0),s.consume(T),S)}function C(T){return w===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),l(T)):T!==o.charCodeAt(w)?u(T):(s.consume(T),w++,C)}}}}}}(t)),n("fromMarkdownExtensions",ky(t)),n("toMarkdownExtensions",by(t))}var vy=Dd,SS=za.Z,Md=za.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ha(t){try{return!t.includes("://")||t.trim()!==t?!1:(new URL(t),!0)}catch{return!1}}var Tn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function fo(t){let e=(0,Tn.getFrontMatterInfo)(t);return(0,Tn.parseYaml)(e.frontmatter)??{}}function Id(t,e){let n=(0,Tn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Tn.stringifyYaml)(e);return n.exists?au(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function $a(t){return Ld(t)&&t.type==="file"}function Ld(t){return Xe(t)&&!!t.isCanvas}function xy(t){return Ld(t)&&t.type==="text"}function sr(t,e){if(vt(t))return{endIndex:t.position.end.offset,newContent:e,oldContent:t.original,startIndex:t.position.start.offset};if($a(t))return{isCanvas:!0,newContent:e,nodeIndex:t.nodeIndex,oldContent:t.original,type:"file"};if(xy(t))return{isCanvas:!0,newContent:e,nodeIndex:t.nodeIndex,oldContent:t.original,originalReference:t.originalReference,type:"text"};if(Xe(t))return{frontmatterKey:t.key,newContent:e,oldContent:t.original};throw new Error("Unknown link type")}function Od(t){return t.sort((e,n)=>Xe(e)&&Xe(n)?e.key.localeCompare(n.key):vt(e)&&vt(n)?e.position.start.offset-n.position.start.offset:Xe(e)?1:-1)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Rd(t,e,n){let r=De(t,e),o=wt(n);await ar(t,o);let s=ho(t,n);try{await t.vault.copy(r,s)}catch(l){if(!await t.vault.exists(s))throw l}return s}async function ar(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function ho(t,e){let n=et(e);return t.vault.getAvailablePath(ye(ae(e),Be(e,n)),n.slice(1))}function lr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}function ja(t,e,n){let r=fe(t,e);if(t.vault.adapter.insensitive){let o=ae(n),s=Be(n),l;for(;l=yt(t,o,!0),!l;)s=ye(Be(o),s),o=ae(o);n=ye(l.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:ho(t,n)}async function Ga(t,e){let n=await ur(t,fe(t,e));return n.files.length===0&&n.folders.length===0}async function ur(t,e){let n=fe(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return r}}async function Nd(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0},...r};await Di(async()=>{let l=await qa(t,e);if(l===null)return p();let u=await Vn(n,l);if(u===null)return!1;let f=!0;if(!await Wd(t,e,async m=>{await t.vault.process(m,w=>w!==l?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:l,path:m.path}),f=!1,w):u)}))return p();return f;function p(){if(s.shouldFailOnMissingFile){let m=fe(t,e);throw new Error(`File '${m}' not found`)}return!0}},s)}async function qa(t,e){let n=null;return await Wd(t,e,async r=>{n=await t.vault.read(r)}),n}async function po(t,e,n){let r=De(t,e,!1,!0),o=ja(t,e,n);if(r.path.toLowerCase()===o.toLowerCase())return r.path!==n&&await t.vault.rename(r,o),o;let s=wt(o);await ar(t,s);try{await t.vault.rename(r,o)}catch(l){if(!await t.vault.exists(o)||await t.vault.exists(r.path))throw l}return o}async function Wd(t,e,n){let r=fe(t,e),o=de(t,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=de(t,r),!o||o.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Ka(t,e,n){let r=await Vn(n),o={},s=!1;try{o=fo(t)}catch(h){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:h})),s=!0}for(let h of r)if(jt(h)){let p=t.slice(h.startIndex,h.endIndex);if(p!==h.oldContent)return console.warn("Content mismatch",{actualContent:p,endIndex:h.endIndex,expectedContent:h.oldContent,path:e,startIndex:h.startIndex}),null}else if(mo(h)){let p=Bi(o,h.frontmatterKey);if(p!==h.oldContent)return console.warn("Content mismatch",{actualContent:p,expectedContent:h.oldContent,frontmatterKey:h.frontmatterKey,path:e}),null}r.sort((h,p)=>jt(h)&&jt(p)?h.startIndex-p.startIndex:mo(h)&&mo(p)?h.frontmatterKey.localeCompare(p.frontmatterKey):jt(h)?-1:1),r=r.filter((h,p)=>h.oldContent===h.newContent?!1:p===0?!0:!ot(h,r[p-1]));for(let h=1;h<r.length;h++){let p=r[h];if(!p)continue;let m=r[h-1];if(m&&jt(m)&&jt(p)&&m.endIndex&&p.startIndex&&m.endIndex>p.startIndex)return console.warn("Overlapping changes",{change:p,previousChange:m}),null}let l="",u=0,f=!1;for(let h of r)jt(h)?(l+=t.slice(u,h.startIndex),l+=h.newContent,u=h.endIndex):mo(h)&&(s?console.error(`Cannot apply frontmatter change in ${e}, because frontmatter parsing failed`,{change:h}):(tc(o,h.frontmatterKey,h.newContent),f=!0));return l+=t.slice(u),f&&(l=Id(l,o)),l}async function Vr(t,e,n,r={}){await Nd(t,e,async o=>yn(t,e)?Ey(o,fe(t,e),n):await Ka(o,fe(t,e),n),r)}function zr(t){return!!t.isCanvas}function Cy(t){return zr(t)&&t.type==="file"}function Ay(t){return zr(t)&&t.type==="text"}function jt(t){return t.startIndex!==void 0}function mo(t){return t.frontmatterKey!==void 0}async function Ey(t,e,n){let r=await Vn(n),o=Sy(t),s=new Map;for(let l of r){if(!zr(l))return console.warn("Only canvas changes are supported for canvas files",{change:l,path:e}),null;let u=o.nodes[l.nodeIndex];if(!u)return console.warn("Node not found",{nodeIndex:l.nodeIndex,path:e}),null;if(Cy(l)){if(u.file!==l.oldContent)return console.warn("Content mismatch",{actualContent:u.file,expectedContent:l.oldContent,nodeIndex:l.nodeIndex,path:e,type:"file"}),null;u.file=l.newContent}else if(Ay(l)){let f=s.get(l.nodeIndex);f||(f=[],s.set(l.nodeIndex,f)),f.push(l)}}for(let[l,u]of s.entries()){let f=o.nodes[l];if(!f)return console.warn("Node not found",{nodeIndex:l,path:e}),null;if(typeof f.text!="string")return console.warn("Node text is not a string",{nodeIndex:l,path:e}),null;let h=u.map(p=>sr(p.originalReference,p.newContent));f.text=await Ka(f.text,`${e}.node${l.toString()}.VIRTUAL_FILE.md`,h)}return JSON.stringify(o,null,"	")}function Sy(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}var Bd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Yd(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function Tt(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Od(e),e=e.filter((n,r)=>{if(r===0)return!0;let o=e[r-1];return o?vt(n)&&vt(o)?n.position.start.offset!==o.position.start.offset:Xe(n)&&Xe(o)?n.key!==o.key:!0:!0}),e}function Za(t,e){let n=De(t,e,!0);return Ur(t,n,()=>t.metadataCache.getBacklinksForFile(n))}async function Gt(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let o=null;return await Di(async()=>{let s=De(t,e);await Yd(t),o=Za(t,s);for(let l of o.keys()){let u=de(t,l);if(!u)return!1;await Vd(t,u);let f=await qa(t,u);if(!f)return!1;let h=fo(f),p=o.get(l);if(!p)return!1;for(let m of p){let w;if(vt(m))w=f.slice(m.position.start.offset,m.position.end.offset);else if(Xe(m)){let y=Bi(h,m.key);if(typeof y!="string")return!1;w=y}else return!0;if(w!==m.original)return!1}}return!0},n),o}async function Ft(t,e){let n=de(t,e);if(!n||n.deleted)return null;await Vd(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Yd(t)),t.metadataCache.getFileCache(n)}function _y(t,e){if(!e.deleted)return mt;let n=[],r=e;for(;r.deleted;)n.push(r.path),t.vault.fileMap[r.path]=r,r=r.parent??Un(t,wt(r.path),!0);return tt(e)&&t.metadataCache.uniqueFileLookup.add(e.name.toLowerCase(),e),()=>{for(let o of n)delete t.vault.fileMap[o];tt(e)&&t.metadataCache.uniqueFileLookup.remove(e.name.toLowerCase(),e)}}function Ur(t,e,n){let r=_y(t,e);try{return n()}finally{r()}}async function Vd(t,e){if(!ke(t,e))return;let n=fe(t,e);for(let r of t.workspace.getLeavesOfType(Ql.Markdown))r.view instanceof Bd.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function zd(t){return t.vault.getConfig("newLinkFormat")==="relative"}function Ud(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ty="\\|",Fy=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Py=/[\\[\]<>_*~=`$]/g,$d=/(?<!\\)\|/g,jd="|";function Dy(t){let e=qt(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Xa({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFilenameAlias:t.shouldUpdateFilenameAlias}):t.link.original}async function Qa(t,e,n,r={}){await Vr(t,e,async()=>{let o=await Ft(t,e);return await By(o,yn(t,e),n)},r)}function Ja(t){return He(t,Fy,({substring:e})=>encodeURIComponent(e))}function qt(t,e,n){let{linkPath:r}=an(e.link);return t.metadataCache.getFirstLinkpathDest(r,fe(t,n))}function wo(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let s=De(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Ur(e,s,()=>Ry(t))}function Hr(t){let e=zy(t);if(e)return e;let n="!",r=t.startsWith(n);r&&(t=Ut(t,n));let s=_d().use(er).use(Md,{aliasDivider:jd}).parse(t);if(s.children.length!==1)return null;let l=s.children[0];if(l?.type!=="paragraph"||l.children.length!==1)return null;let u=l.children[0];if(u?.position?.start.offset!==0||u.position.end.offset!==t.length)return null;switch(u.type){case"link":return Vy(u,t,r);case"wikiLink":return Uy(u,t,r);default:return null}}function My(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:o,oldSourcePathOrFile:s,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let f=De(e,u,!0),h=fe(e,o),p=fe(e,s??o),m=ae(h),w=ae(p),y=new Set;for(let P of[f.path,l]){if(!P)continue;let S=fe(e,P);y.add(S),y.add(Be(S)),y.add(zn(m,S)),y.add(zn(w,S))}for(let P of[p,h])y.add(e.metadataCache.fileToLinktext(f,P,!1));let x=He((0,go.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let P of y){if(P.toLowerCase()===x)return!0;let S=ae(P),C=Be(P,et(P));if(ye(S,C).toLowerCase()===x)return!0}return!1}function an(t){let e=(0,go.parseLinktext)(Sr(t));return{linkPath:e.path,subpath:e.subpath}}function Iy(t){return Hr(t)?.hasAngleBrackets??!1}function yo(t){return Hr(t)?.isEmbed??!1}function Ly(t){return Hr(t)?.url.startsWith("./")??!1}function cr(t){return Hr(t)?.isWikilink??!1}function Xa(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:o,oldSourcePathOrFile:s,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFilenameAlias:f}=t;if(!o)return n.original;let h=De(e,o,!0),p=fe(e,l??o),m=cr(n.original)&&u!==!0,{subpath:w}=an(n.link),y=!f;if(yn(e,r)&&$a(n))return h.path+w;let x;if(m){let S=Hr(n.original);S?.alias&&(x=S.alias,y=!0)}return x??=My({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:r,oldSourcePathOrFile:s,oldTargetPath:p,targetPathOrFile:h})?void 0:n.displayText,y||(x===Be(p,et(p))?x=h.basename:x===Be(p)&&(x=h.name)),wo({alias:x,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:w,targetPathOrFile:h})}async function ko(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:o,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFilenameAlias:l}=t;yn(e,n)&&!e.internalPlugins.getEnabledPluginById(zt.Canvas)||await Qa(e,n,u=>{let f=yo(u.original);if(!(s!==void 0&&s!==f))return Dy({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:o,shouldUpdateFilenameAlias:l})},t)}function Oy(t,e,n,r,o){let s;return e.path===n&&r?s=r:o.shouldForceRelativePath?s=zn(ae(n),o.isWikilink?gu(t,e):e.path)+r:s=t.metadataCache.fileToLinktext(e,n,o.isWikilink)+r,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function Ry(t){let{app:e}=t,n=De(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=fe(e,t.sourcePathOrFile),o=t.subpath??"",s=Yy(t,n),l=Oy(e,n,r,o,s);return s.isWikilink?Wy(l,t.alias,s.isEmbed):Ny(l,n,t,s)}function Ny(t,e,n,r){let{app:o}=n,s=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:Ja(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ke(o,e)?e.basename:e.name);let f=He(u,Py,"\\$&");return`${s}[${f}](${l})`}function Wy(t,e,n){let r=n?"!":"",o=e??"";if(o&&o.toLowerCase()===t.toLowerCase())return`${r}[[${o}]]`;let s=o?`|${o}`:"";return`${r}[[${t}${s}]]`}async function By(t,e,n){if(!t)return[];let r=[],o=(t.sections??[]).filter(s=>s.type==="table").map(s=>({end:s.position.end.offset,start:s.position.start.offset}));for(let s of Tt(t)){let l=await n(s);if(l===void 0)continue;let u=sr(s,l);e?zr(u)?r.push(u):console.warn("Unsupported file change",u):(Hy(u,o)&&(u.newContent=u.newContent.replaceAll($d,Ty)),r.push(u))}return r}function Yy(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?yo(t.originalLink):void 0)??!ke(n,e),isWikilink:t.isWikilink??(t.originalLink?cr(t.originalLink):void 0)??Ud(n),shouldForceRelativePath:t.shouldForceRelativePath??zd(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Iy(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Ly(t.originalLink):void 0)??!1}}function Vy(t,e,n){let r="<",o="](",s=")",l=t.children[0],u=e.slice((l?.position?.end.offset??1)+o.length,(t.position?.end.offset??0)-s.length),f=e.startsWith(r)||u.startsWith(r),h=Ha(t.url),p=t.url;if(!h&&!f)try{p=decodeURIComponent(p)}catch(m){console.error(`Failed to decode URL ${p}`,m)}return{alias:l?.value,encodedUrl:h?Ja(p):void 0,hasAngleBrackets:f,isEmbed:n,isExternal:h,isWikilink:!1,title:t.title??void 0,url:p}}function zy(t){let e=t.startsWith("<")&&t.endsWith(">");return e&&(t=t.slice(1,-1)),Ha(t)?{encodedUrl:Ja(t),hasAngleBrackets:e,isEmbed:!1,isExternal:!0,isWikilink:!1,url:t}:null}function Uy(t,e,n){return{alias:e.includes(jd)?t.data.alias:void 0,isEmbed:n,isExternal:!1,isWikilink:!0,url:t.value}}function Hy(t,e){return!jt(t)||!$d.test(t.newContent)?!1:e.some(n=>n.start<=t.startIndex&&t.endIndex<=n.end)}function Gd(t,e){let n=Object.keys(e).map(r=>$y(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function $y(t,e,n){let r=t[e],o=t.hasOwnProperty(e),s=o?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(s);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,f;function u(...h){return l===s&&t[e]===u&&f(),l.apply(this,h)}function f(){t[e]===u&&(o?t[e]=s:delete t[e]),l!==s&&(l=s,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function jy(t,e){return Gd(t,e)}function qd(t,e,n){let r=jy(e,n),o=!1;function s(){if(!o)try{r()}finally{o=!0}}return t.register(s),r}var Kd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function $r(t,e){let n=yt(t,e);for(;n;){if(!await Ga(t,n))return;let r=n.parent;await Kt(t,n.path),n=r}}async function Kt(t,e,n,r,o){let s=_r(t,e);if(!s)return!1;let l=tt(s)||(o??!0);if(tt(s)){let u=await Gt(t,s);n&&u.clear(n),u.count()!==0&&(r&&new Kd.Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(Tr(s)){let u=await ur(t,s);for(let f of[...u.files,...u.folders])l&&=await Kt(t,f,n,r);l&&=await Ga(t,s)}if(l)try{await t.fileManager.trashFile(s)}catch(u){await t.vault.exists(s.path)&&(Er(new Error(`Failed to delete ${s.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var el=new Map,jr=new Set,bo=new Map,Se=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Se||{});function Xd(t,e){let n=vo(t.app),r=t.manifest.id;n.set(r,e),Qd(t.app),t.register(()=>{n.delete(r),Qd(t.app)});let o=t.app;t.registerEvent(o.vault.on("delete",s=>{Qy(t,s)})),t.registerEvent(o.vault.on("rename",(s,l)=>{tk(t,s,l)})),t.registerEvent(o.metadataCache.on("deleted",(s,l)=>{Xy(t,s,l)})),qd(t,o.fileManager,{runAsyncLinkUpdate:s=>l=>rk(o,s,l)})}async function ef(t,e,n){let r=Fn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let o of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Kt(t,o,n,void 0,!0);break;case"DeleteWithEmptyParents":await $r(t,o);break;default:break}}async function Gy(t,e,n,r,o){let s=bo.get(e);if(s){bo.delete(e);for(let l of s)await tl(t,l.oldPath,n,r,o,l.combinedBacklinksMap)}}async function qy(t,e,n,r,o){if(r.set(e,n),!Gr(t,e))return;let s=Fn(t),l=await Zn(t,e),u=s.shouldRenameAttachmentFolder?await Zn(t,n):l,f=l==="/",h=yt(t,l);if(!h||l===u&&!s.shouldRenameAttachmentFiles)return;let p=[];if(await Ks(t,e))Jd.Vault.recurseChildren(h,y=>{tt(y)&&p.push(y)});else for(let y of o){let x=qt(t,y,e);x&&(f||x.path.startsWith(l))&&(await Gt(t,x)).keys().length===1&&p.push(x)}let m=Be(e,et(e)),w=Be(n,et(n));for(let y of p){if(Gr(t,y.path))continue;let x=f?y.path:zn(l,y.path),P=ye(u,ae(x)),S=s.shouldRenameAttachmentFiles?He(y.basename,m,w):y.basename,C=ye(P,uu(S,y.extension));if(y.path!==C){if(s.shouldDeleteConflictingAttachments){let T=de(t,C);T&&await t.fileManager.trashFile(T)}else C=t.vault.getAvailablePath(ye(P,S),y.extension);r.set(y.path,C)}}}function vo(t){return Ht(t,"renameDeleteHandlersMap",new Map).value}function Fn(t){let e=vo(t),n=Array.from(e.values()).reverse(),r={};r.isNote=o=>Fr(t,o),r.isPathIgnored=()=>!1;for(let o of n){let s=o();r.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=s.shouldHandleDeletions??!1,r.shouldHandleRenames||=s.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,r.shouldUpdateFilenameAliases||=s.shouldUpdateFilenameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=f=>l(f)||(s.isPathIgnored?.(f)??!1);let u=r.isNote;r.isNote=f=>u(f)&&(s.isNote?.(f)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function Ky(t,e,n,r,o){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let s=ye(ae(n),`__temp__${Be(n)}`);return await nf(t,n,s),await tl(t,e,s,r,o),await t.vault.rename(De(t,s),n),!0}async function Zy(t,e){if(rt("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Gr(t,e))return;let n=Fn(t);if(!n.shouldHandleDeletions||n.isPathIgnored?.(e))return;let r=el.get(e);el.delete(e);let o=new Set;if(r){let u=Tt(r);for(let f of u){let h=qt(t,f,e);h&&(Gr(t,h.path)||(o.add(h.parent?.path??""),await Kt(t,h,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")))}}await ef(t,Array.from(o),e);let s=await Zn(t,e),l=yt(t,s);l&&await Ks(t,e)&&await Kt(t,l,e,!1,n.emptyAttachmentFolderBehavior!=="Keep")}function Qy(t,e){let n=t.app;if(!nl(t))return;let r=e.path;it(n,()=>Zy(n,r))}function Jy(t,e,n){let r=Fn(t);r.isPathIgnored?.(e.path)||r.shouldHandleDeletions&&ke(t,e)&&n&&el.set(e.path,n)}function Xy(t,e,n){nl(t)&&Jy(t.app,e,n)}function ek(t,e,n){let r=tf(e,n);if(rt("RenameDeleteHandler:handleRename")(`Handle Rename ${r}`),jr.has(r)){jr.delete(r);return}let o=Fn(t);if(!o.shouldHandleRenames||o.isPathIgnored?.(e)||o.isPathIgnored?.(n))return;let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=s?Tt(s):[],u=Za(t,e).data;it(t,()=>tl(t,e,n,u,l))}async function tl(t,e,n,r,o,s){if(await Gy(t,e,n,r,o),await nk(t,e,n,r,o),!await Ky(t,e,n,r,o))try{let l=new Map;await qy(t,e,n,l,o);let u=new Map;Zd(r,l,u,e);for(let p of l.keys()){if(p===e)continue;let m=(await Gt(t,p)).data;Zd(m,l,u,p)}let f=new Set;for(let[p,m]of l.entries()){if(p===e)continue;let w=await nf(t,p,m);l.set(p,w),f.add(ae(p))}await ef(t,Array.from(f),e);let h=Fn(t);for(let[p,m]of Array.from(u.entries()).concat(Array.from(s?.entries()??[])))await Qa(t,p,w=>{let y=m.get(Yi(w));if(!y)return;let x=l.get(y);if(x)return Xa({app:t,link:w,newSourcePathOrFile:p,newTargetPathOrFile:x,oldTargetPathOrFile:y,shouldUpdateFilenameAlias:h.shouldUpdateFilenameAliases})},{shouldFailOnMissingFile:!1});if(Gr(t,n)&&await ko({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFilenameAlias:h.shouldUpdateFilenameAliases}),!de(t,n)){let p=bo.get(n);p||(p=[],bo.set(n,p)),p.push({combinedBacklinksMap:u,oldPath:e})}}finally{let l=Array.from(jr);it(t,()=>{for(let u of l)jr.delete(u)})}}function tk(t,e,n){if(!nl(t)||!tt(e))return;let r=e.path;ek(t.app,n,r)}function Zd(t,e,n,r){for(let[o,s]of t.entries()){let l=e.get(o)??o,u=n.get(l)??new Map;n.set(l,u);for(let f of s)u.set(Yi(f),r)}}function Gr(t,e){return Fn(t).isNote?.(e)??!1}function Qd(t){let e=vo(t);rt("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function tf(t,e){return`${t} -> ${e}`}async function nk(t,e,n,r,o){let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=s?Tt(s):[],u=De(t,e,!0),f=new Map;await Ur(t,u,async()=>{f=(await Gt(t,u)).data});for(let h of l)o.includes(h)||o.push(h);for(let[h,p]of f.entries()){let m=r.get(h);m||(m=[],r.set(h,m));for(let w of p)m.includes(w)||m.push(w)}}async function nf(t,e,n){if(n=ja(t,e,n),e===n)return n;let r=tf(e,n);return jr.add(r),n=await po(t,e,n),n}async function rk(t,e,n){await e.call(t.fileManager,r);async function r(o){let s=!1,l=t.vault.on("rename",()=>{s=!0});try{await n(o)}finally{t.vault.offref(l)}s&&o.splice(0)}}function nl(t){let e=t.app,n=t.manifest.id,r=vo(e);return Array.from(r.keys())[0]===n}var X_=require("obsidian");var rf=require("obsidian");var ln=class extends Map{constructor(n){super();this.title=n}add(n,r){this.has(n)||this.set(n,[]);let o=this.get(n);o&&o.push(r)}toString(n,r){if(this.size>0){let o=`# ${this.title} (${this.size.toString()} files)
`;for(let s of this.keys()){let l=de(n,s);if(!l)continue;let u=wo({app:n,sourcePathOrFile:r,targetPathOrFile:l});o+=`${u}:
`;for(let f of this.get(s)??[])vt(f)?o+=`- (line ${(f.position.start.line+1).toString()}): \`${f.link}\`
`:Xe(f)&&(o+=`- (key ${f.key}): \`${f.link}\`
`);o+=`

`}return o}return`# ${this.title}
No problems found

`}},qr=class{constructor(e){this.plugin=e;}async checkConsistency(e,n,r,o,s,l){if(this.plugin.settings.isPathIgnored(e.path))return;let u=await Ft(this.plugin.app,e.path);if(!u)return;let f=u.links??[],h=u.embeds??[],p=u.frontmatterLinks??[];for(let m of f)await this.isValidLink(m,e.path)||n.add(e.path,m),cr(m.original)&&o.add(e.path,m);for(let m of h)await this.isValidLink(m,e.path)||r.add(e.path,m),cr(m.original)&&s.add(e.path,m);for(let m of p)await this.isValidLink(m,e.path)||l.add(e.path,m)}async convertAllNoteEmbedsPathsToRelative(e){return await this.convertAllNoteRefPathsToRelative(e,!0)}async convertAllNoteLinksPathsToRelative(e){return await this.convertAllNoteRefPathsToRelative(e,!1)}async getCachedNotesThatHaveLinkToFile(e){let n=de(this.plugin.app,e);return n?(await Gt(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=an(e));let r=ae(n);return ye(r,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n){if(this.plugin.settings.isPathIgnored(e))return 0;let r=de(this.plugin.app,e);if(!r)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let o=await Ft(this.plugin.app,r);if(!o)return 0;let l=((n?o.embeds:o.links)??[]).filter(u=>cr(u.original)).length;return await ko({app:this.plugin.app,newSourcePathOrFile:r,shouldForceMarkdownLinks:!0,shouldUpdateEmbedOnlyLinks:n}),l}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let r=de(this.plugin.app,e);if(!r){console.warn(`can't update links in note, file not found: ${e}`);return}let o=new Map;for(let s of n)o.set(s.oldPath,s.newPath);await this.updateLinks(r,r.path,o)}async convertAllNoteRefPathsToRelative(e,n){if(this.plugin.settings.isPathIgnored(e))return[];let r=de(this.plugin.app,e);if(!r)return[];let o=[];return await Vr(this.plugin.app,r,async()=>{let s=await Ft(this.plugin.app,r);if(!s)return[];let l=(n?s.embeds:s.links)??[],u=[];for(let f of l){let h={endIndex:f.position.end.offset,newContent:this.convertLink({forceRelativePath:!0,link:f,note:r,oldNotePath:e}),oldContent:f.original,startIndex:f.position.start.offset};u.push(h),o.push({newLink:h.newContent,old:f})}return u}),o}convertLink({forceRelativePath:e,link:n,note:r,oldNotePath:o,pathChangeMap:s}){let{linkPath:l,subpath:u}=an(n.link),f=qt(this.plugin.app,n,o)?.path??ye(ae(o),l),h=s?s.get(f):qt(this.plugin.app,n,r.path)?.path??ye(ae(r.path),l);if(!h)return n.original;let p=de(this.plugin.app,h)??de(this.plugin.app,f);if(!p)return n.original;let m=n.displayText&&ye(r.parent?.path??"",n.displayText)===f?void 0:n.displayText;return wo({alias:m,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:r.path,subpath:u,targetPathOrFile:p})}async isValidLink(e,n){let{linkPath:r,subpath:o}=an(e.link),s;r?r.startsWith("/")?s=(0,rf.normalizePath)(r):s=ye(ae(n),r):s=n;let l=de(this.plugin.app,s);if(!l)return!1;if(!o)return!0;let u=l.extension.toLocaleLowerCase();if(u==="pdf")return o.startsWith("#page=");if(u!==vi)return!1;let f=await Ft(this.plugin.app,l);if(!f)return!1;let h="#^";if(o.startsWith(h))return Object.keys(f.blocks??{}).includes(Ut(o,h));let p="#";return(f.headings??[]).map(m=>m.heading.replaceAll(p," ")).includes(Ut(o,p))}async updateLinks(e,n,r){await Vr(this.plugin.app,e,async()=>{let o=await Ft(this.plugin.app,e);return o?Tt(o).map(l=>sr(l,this.convertLink({link:l,note:e,oldNotePath:n,pathChangeMap:r}))):[]})}};var Kr=class{constructor(e,n){this.plugin=e;this.lh=n;}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},r=await Ft(this.plugin.app,e);if(!r)return n;for(let o of Tt(r)){let{linkPath:s}=an(o.link);if(!s)continue;let l=this.lh.getFullPathForLink(s,e);if(n.movedAttachments.findIndex(p=>p.oldPath===l)!==-1)continue;let u=qt(this.plugin.app,o,e);if(!u){let p=yo(o.original)?"embed":"link";console.warn(`${e} has bad ${p} (file does not exist): ${s}`);continue}if(this.isNoteEx(u))continue;let f=await qs(this.plugin.app,u.path,e);if(ae(f)===ae(u.path))continue;let h=await this.moveAttachment(u,f,[e]);n.movedAttachments=n.movedAttachments.concat(h.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=Ut(e,"./");let n=await ur(this.plugin.app,e);for(let r of n.folders)await this.deleteEmptyFolders(r);if(n=await ur(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(r){if(await this.plugin.app.vault.adapter.exists(e))throw r}}isNoteEx(e){if(!e||!Fr(this.plugin.app,e))return!1;let n=fe(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async createFolderForAttachmentFromPath(e){await ar(this.plugin.app,ae(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Se.Delete:await Kt(this.plugin.app,e.parent,void 0,void 0,!0);break;case Se.DeleteWithEmptyParents:await $r(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,r){let o=e.path,s={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(o)||this.isNoteEx(e))return s;if(o===n)return console.warn("Can't move file. Source and destination path the same."),s;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(o);for(let p of r)l.remove(p);if(o!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,r);let u=e.parent,f=l.length===0,h=de(this.plugin.app,n);if(h&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(h)):n=ho(this.plugin.app,n)),this.plugin.consoleDebug(`${f?"move":"copy"}
  from: ${o}
  to: ${n}`),s.movedAttachments.push({newPath:n,oldPath:o}),f?await po(this.plugin.app,e,n):await Rd(this.plugin.app,e,n),u)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Se.Delete:await Kt(this.plugin.app,u,void 0,void 0,!0);break;case Se.DeleteWithEmptyParents:await $r(this.plugin.app,u);break;default:break}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var un=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,u.toString()));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let l of qn(e)){let u=e[l],f=this.transformValueRecursively(u,l);s[l]=f}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var at=class extends un{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var xo=class extends at{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var of=Je(Pn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Co=class extends at{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,of.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ao=class extends un{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??wn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Eo=class extends at{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var So=class extends at{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ik="_",_o=class extends un{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(ik)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zr=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var To=class extends at{get id(){return"two-way-map"}canTransform(e){return e instanceof Zr}restoreValue(e){return new Zr(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ok=new Ao([new _o,new xo,new Co,new Eo,new So,new To]),Fo=class extends Ct{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=qn(this.currentSettingsWrapper.settings),this.registerValidators()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let u of this.propertyNames)this.setPropertyImpl(u,o[u],s[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);ot(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async saveToFile(e){ot(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,o]of this.validators.entries()){let s=await o(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return ok}async onLoadRecord(e){await gt()}async onSavingRecord(e){await gt()}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var sf=/(?:)/,af=/$./,Po=class{consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=Se.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=lf(this._excludePaths,af)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=lf(this._includePaths,sf)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsRegExp=af;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=sf;isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function lf(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Ls(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var Do=class extends Fo{createDefaultSettings(){return new Po}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,r=n.excludePaths??[];if(n.ignoreFiles){for(let o of n.ignoreFiles)r.push(`/${o}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let o of n.ignoreFolders??[])r.push(o);delete n.ignoreFolders}r.length>0&&(n.excludePaths=r),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?Se.DeleteWithEmptyParents:Se.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",uf),this.registerValidator("excludePaths",uf)}};function uf(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!su(n))return`Invalid regular expression ${e}`}}var Af=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function cf(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function df(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Pt(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}var Dn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Mo(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();oe(r,W.SettingComponentWrapper);for(let o of n)r.appendChild(o);return e.appendChild(r),r}var ff=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var il=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function hf(t){return sk(t)?t:t instanceof ff.AbstractTextComponent?new il(t):null}function sk(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var Ie=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Io=class{constructor(e){this.el=e;let n=Mo(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),oe(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},cn=class{constructor(e){this.validatorEl=e}};function pf(t){return ak(t)?t:t instanceof Ie.ColorComponent?new cn(t.colorPickerEl):t instanceof Ie.DropdownComponent?new cn(t.selectEl):t instanceof Ie.ProgressBarComponent?new Io(t.progressBar):t instanceof Ie.SearchComponent?new cn(t.inputEl):t instanceof Ie.SliderComponent?new cn(t.sliderEl):t instanceof Ie.TextAreaComponent?new cn(t.inputEl):t instanceof Ie.TextComponent?new cn(t.inputEl):t instanceof Ie.ToggleComponent?new Io(t.toggleEl):null}function ak(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function mf(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ol="PluginSettingsTab",Lo=class extends Dn.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,oe(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,Dn.debounce)(bn(()=>this.plugin.settingsManager.saveToFile(ol)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Oi,this.asyncEvents=new Ct}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:T=>T,onChanged:mt,pluginSettingsToComponentValueConverter:T=>T,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=pf(e)?.validatorEl,u=hf(e),f=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(h));let p,m=null,w=null;if(l){let T=Mo(l);m=T.createDiv(),oe(m,W.Tooltip,W.TooltipValidator),w=m.createSpan();let F=m.createDiv();oe(F,W.TooltipArrow),m.hide(),T.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(T,F)=>{n===T&&(p=F,S())}));let y=!1;u&&s.shouldShowPlaceholderForDefaultValues&&ot(f,h)?u.empty():e.setValue(s.pluginSettingsToComponentValueConverter(f));let x=!1,S=(0,Dn.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async T=>{if(x){x=!1;return}y=!1;let F=this.pluginSettings[n],B,Y=!0;if(u?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)B=h;else{let E=s.componentToPluginSettingsValueConverter(T);mf(E)?(p=E.validationMessage,Y=!1):B=E}Y&&(p=await this.plugin.settingsManager.setProperty(n,B),u&&s.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&ot(B,h)&&(y=!0)),S(),B!==void 0&&await s.onChanged(B,F),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),p=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function C(){y&&!l?.isActiveElement()&&(y=!1,u?.isEmpty()||(x=!0,u?.empty())),l&&(p===""&&(l.setCustomValidity(""),l.checkValidity(),p=l.validationMessage),l.setCustomValidity(p),s.shouldShowValidationMessage?(w&&(w.textContent=p),m?.toggle(!!p)):p&&(0,Dn.setTooltip)(l,p))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),St(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ol)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await gt()}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===ol){for(let[o,s]of Object.entries(e.validationMessages))await this.asyncEvents.triggerAsync("validationMessageChanged",o,s);return}this.display()}};var Cf=require("obsidian");var gf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Oo=class extends gf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),oe(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var fr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ro=class extends fr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),oe(e,W.CodeHighlighterComponent);let n=e.createDiv();oe(n,W.SettingComponentWrapper),this.textAreaComponent=new fr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",bn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let o of Array.from(r.classList))o.startsWith(n)&&r.classList.remove(o);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,St(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),St(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,s=n.slice(0,r),l=n.slice(o),u=" ".repeat(this.tabSize),f=s;e.shiftKey?s.endsWith(u)&&(f=s.slice(0,-this.tabSize)):f=s+u;let h=`${f}${l}`;this.setValue(h),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,fr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty())}};var sl=Je(Pn(),1);var No=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ae=class extends No.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new No.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,oe(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var je=class extends Ae{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=e.toString(),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wf="YYYY-MM-DD",Wo=class extends je{constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,sl.default)(e,wf).toDate()}valueToString(e){return(0,sl.default)(e).format(wf)}};var al=Je(Pn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yf="YYYY-MM-DDTHH:mm",Bo=class extends je{constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,al.default)(e,yf).toDate()}valueToString(e){return(0,al.default)(e).format(yf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Yo=class extends Ae{constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Vo=class extends Ae{constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var ll=Je(Pn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var kf="YYYY-MM",zo=class extends je{constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,ll.default)(e,kf);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,ll.default)().year(e.year).month(e.month-1).format(kf)}};var Uo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var hr=class extends Uo.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Uo.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,oe(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ho=class extends Ae{constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var $o=class extends Ae{constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Go=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var jo=class extends Go.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Go.TextAreaComponent(e),oe(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qo=class extends je{constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ko=class extends Ae{constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Zo=class extends Ae{constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Jo=Je(Pn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Qo=class extends je{constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,Jo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,Jo.utc)(e.asMilliseconds()).format(n)}};var bf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xo=class extends bf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),oe(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var ts=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var es=class extends ts.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new ts.DropdownComponent(e),oe(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var vf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ns=class extends vf.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new hr(e),oe(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(r.toString(),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>r.toString())),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var rs=class extends Ae{constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ul=Je(Pn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var xf="YYYY-[W]WW",is=class extends je{constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,ul.default)(e,xf);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,ul.default)().year(e.year).isoWeek(e.weekNumber).format(xf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ge=class extends Cf.Setting{addCheckbox(e){return this.addComponent(Oo,e)}addCodeHighlighter(e){return this.addComponent(Ro,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Wo,e)}addDateTime(e){return this.addComponent(Bo,e)}addEmail(e){return this.addComponent(Yo,e)}addFile(e){return this.addComponent(Vo,e)}addMonth(e){return this.addComponent(zo,e)}addMultipleDropdown(e){return this.addComponent(hr,e)}addMultipleEmail(e){return this.addComponent(Ho,e)}addMultipleFile(e){return this.addComponent($o,e)}addMultipleText(e){return this.addComponent(jo,e)}addNumber(e){return this.addComponent(qo,e)}addPassword(e){return this.addComponent(Ko,e)}addTelephone(e){return this.addComponent(Zo,e)}addTime(e){return this.addComponent(Qo,e)}addTriStateCheckbox(e){return this.addComponent(Xo,e)}addTypedDropdown(e){return this.addComponent(es,e)}addTypedMultipleDropdown(e){return this.addComponent(ns,e)}addUrl(e){return this.addComponent(rs,e)}addWeek(e){return this.addComponent(is,e)}};var os=class extends Lo{display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new Ge(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(s=>this.bind(s,"shouldMoveAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)}}));let n="Delete Unused Attachments with Note";new Ge(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(s=>this.bind(s,"shouldDeleteAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)}})),new Ge(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(s=>this.bind(s,"shouldUpdateLinks")),new Ge(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(s=>{s.appendText("When the attachment folder becomes empty, "),s.createEl("br"),Pt(s,"Keep"),s.appendText(" - will keep the empty attachment folder, "),s.createEl("br"),Pt(s,"Delete"),s.appendText(" - will delete the empty attachment folder, "),s.createEl("br"),Pt(s,"Delete with empty parents"),s.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(s=>{s.addOptions({[Se.Keep]:"Keep",[Se.Delete]:"Delete",[Se.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(s,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:l=>df(Se,l),pluginSettingsToComponentValueConverter:l=>cf(Se,l)})});let r="Delete Duplicate Attachments on Note Move";new Ge(this.containerEl).setName(r).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(s=>this.bind(s,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",r)}})),new Ge(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(s=>this.bind(s,"shouldChangeNoteBacklinksDisplayText")),new Ge(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(s=>{this.bind(s,"consistencyReportFile")});let o="Auto Collect Attachments";new Ge(this.containerEl).setName(o).setDesc("Automatically collect attachments when the note is edited.").addToggle(s=>this.bind(s,"shouldCollectAttachmentsAutomatically",{onChanged:async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",o)}})),new Ge(this.containerEl).setName("Include paths").setDesc(createFragment(s=>{s.appendText("Include notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),Pt(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, all notes are included")})).addMultipleText(s=>{this.bind(s,"includePaths")}),new Ge(this.containerEl).setName("Exclude paths").setDesc(createFragment(s=>{s.appendText("Exclude notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),Pt(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(s=>{this.bind(s,"excludePaths")}),new Ge(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(s=>{s.appendText("Treat files with these extensions as attachments."),s.createEl("br"),s.appendText("By default, "),Pt(s,".md"),s.appendText(" and "),Pt(s,".canvas"),s.appendText(" linked files are not treated as attachments and are not moved with the note."),s.createEl("br"),s.appendText("You can add custom extensions, e.g. "),Pt(s,".foo.md"),s.appendText(", "),Pt(s,".bar.canvas"),s.appendText(", to override this behavior.")})).addMultipleText(s=>{this.bind(s,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await Li({app:this.app,message:createFragment(r=>{r.createDiv({cls:"community-modal-readme"},o=>{o.appendText("You enabled "),o.createEl("strong",{cls:"markdown-rendered-code",text:n}),o.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),o.createEl("br"),o.appendText("It is "),o.createEl("strong",{text:"STRONGLY"}),o.appendText(" recommended to backup your vault before using the plugin."),o.createEl("br"),o.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),o.appendText(" about how to use the plugin.")})}),title:createFragment(r=>{(0,Af.setIcon)(r.createSpan(),"triangle-alert"),r.appendText(" Consistent Attachments and Links")})})}};var ss=class extends Ni{deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,r){await super.onSaveSettings(e,n,r),this.lh=new qr(this),this.fh=new Kr(this,this.lh)}createSettingsManager(){return new Do(this)}createSettingsTab(){return new os(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{it(this.app,()=>this.handleMetadataCacheChanged(e))}))}async onloadImpl(){await super.onloadImpl(),Xd(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>this.fh.isNoteEx(n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFilenameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:()=>this.collectAllAttachments(),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:e=>this.collectAttachmentsCurrentFolder(e),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:()=>this.deleteEmptyFolders(),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:()=>this.convertAllLinkPathsToRelative(),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.convertAllEmbedsPathsToRelative(),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikilinksWithMarkdownLinks(),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:()=>this.reorganizeVault(),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:()=>this.checkConsistency(),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new qr(this),this.fh=new Kr(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new ln("Bad links"),n=new ln("Bad embeds"),r=new ln("Wiki links"),o=new ln("Wiki embeds"),s=new ln("Bad frontmatter links");await vn({abortSignal:this.abortSignal,buildNoticeMessage:(p,m)=>`Checking note ${m} - ${p.path}`,items:lr(this.app),processItem:async p=>{await this.lh.checkConsistency(p,e,n,r,o,s)},progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,u=[e,n,r,o,s].map(p=>p.toString(this.app,l)).join("");await ar(this.app,ae(l));let f=await pu(this.app,l);await this.app.vault.modify(f,u);let h=!1;this.app.workspace.iterateAllLeaves(p=>{p.getDisplayText()!==""&&l.startsWith(p.getDisplayText())&&(h=!0)}),h||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/")}async collectAttachments(e,n=!0){if(this.settings.isPathIgnored(e.path)){n&&new be.Notice("Note path is ignored");return}await this.saveAllOpenNotes();let r=await this.fh.collectAttachmentsForCachedNote(e.path);r.movedAttachments.length>0&&await this.lh.updateChangedPathsInNote(e.path,r.movedAttachments),r.movedAttachments.length===0?n&&new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${r.movedAttachments.length.toString()} attachment${r.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,()=>this.collectAttachmentsInFolder(n.parent?.path??"/")),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,()=>this.collectAttachments(n)),!0)}async collectAttachmentsInFolder(e){let n=0,r=0;await this.saveAllOpenNotes(),await vn({abortSignal:this.abortSignal,buildNoticeMessage:(o,s)=>`Collecting attachments ${s} - ${o.path}`,items:hu(this.app,e,!0),processItem:async o=>{if(this.settings.isPathIgnored(o.path))return;let s=await this.fh.collectAttachmentsForCachedNote(o.path);s.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(o.path,s.movedAttachments),n+=s.movedAttachments.length,r++)},progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new be.Notice("No files found that need to be moved"):new be.Notice(`Moved ${n.toString()} attachment${n>1?"s":""} from ${r.toString()} note${r>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await vn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Converting embed paths to relative ${o} - ${r.path}`,items:lr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.convertAllNoteEmbedsPathsToRelative(r.path);o.length>0&&(e+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No embeds found that need to be converted"):new be.Notice(`Converted ${e.toString()} embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,Ar(()=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path))),!0)}async convertAllLinkPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await vn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Converting link paths to relative ${o} - ${r.path}`,items:lr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.convertAllNoteLinksPathsToRelative(r.path);o.length>0&&(e+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No links found that need to be converted"):new be.Notice(`Converted ${e.toString()} link${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,Ar(()=>this.lh.convertAllNoteLinksPathsToRelative(n.path))),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!ke(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Tr(n)&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path))})}async handleMetadataCacheChanged(e){if(!this.settings.shouldCollectAttachmentsAutomatically)return;let n=document.querySelector(".suggestion-container");n&&n.style.display!=="none"||await this.collectAttachments(e,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new be.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await vn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wiki embeds with markdown embeds ${o} - ${r.path}`,items:lr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!0);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No wiki embeds found that need to be replaced"):new be.Notice(`Replaced ${e.toString()} wiki embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,Ar(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0))),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await vn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wikilinks with markdown links ${o} - ${r.path}`,items:lr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!1);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new be.Notice("No wiki links found that need to be replaced"):new be.Notice(`Replaced ${e.toString()} wikilink${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!ke(this.app,n)?!1:(e||it(this.app,Ar(()=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1))),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof be.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await Li({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,be.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var lk=ss;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */